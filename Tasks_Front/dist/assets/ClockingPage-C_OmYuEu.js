import{g as K,m as ne,t as T,h as v,bo as fe,bp as me,bq as we,br as pe,bs as $,bt as ae,bu as be,bv as ye,bw as oe,l as ie,p as ge,bx as te,by as ke,bz as re,bA as je,R as O,j as n,C as M,c as V,d as Z,f as E,B as H,z as ce,a8 as le,aP as ve,E as se,a2 as Ne,a3 as Te,F as _e}from"./index-BySoLVYi.js";import{u as De,c as _,C as U,f as Ce,a as Pe}from"./clockingCalculations-BxxROxhW.js";import{u as Oe,a as Me,b as Ee,c as Ie}from"./useClockingTimers--Ub_k9-j.js";import{B as G}from"./badge-aYJ7QKCS.js";import{A as B,a as q,b as L,c as A,d as Q,e as W,f as F,g as R}from"./alert-dialog-CyZ6Tk9M.js";import{P as Ye}from"./play-C1PWEvhE.js";import{C as He}from"./circle-alert-9fCp8bAF.js";const Be=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qe=K("hash",Be);const Le=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ae=K("log-in",Le);const Qe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],We=K("log-out",Qe);function Fe(){return Object.assign({},ne())}function Re(s,e){const t=T(s,e?.in).getDay();return t===0?7:t}function Ge(s,e){const t=Xe(e)?new e(0):v(e,0);return t.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),t.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),t}function Xe(s){return typeof s=="function"&&s.prototype?.constructor===s}const ze=10;class ue{subPriority=0;validate(e,t){return!0}}class $e extends ue{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Ve extends ue{priority=ze;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>v(t,r))}set(e,t){return t.timestampIsSet?e:v(e,Ge(e,this.context))}}class c{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new $e(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class Ze extends c{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const h={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},k={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function f(s,e){return s&&{value:e(s.value),rest:s.rest}}function d(s,e){const t=e.match(s);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function j(s,e){const t=e.match(s);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*fe+o*me+l*we),rest:e.slice(t[0].length)}}function de(s){return d(h.anyDigitsSigned,s)}function x(s,e){switch(s){case 1:return d(h.singleDigit,e);case 2:return d(h.twoDigits,e);case 3:return d(h.threeDigits,e);case 4:return d(h.fourDigits,e);default:return d(new RegExp("^\\d{1,"+s+"}"),e)}}function X(s,e){switch(s){case 1:return d(h.singleDigitSigned,e);case 2:return d(h.twoDigitsSigned,e);case 3:return d(h.threeDigitsSigned,e);case 4:return d(h.fourDigitsSigned,e);default:return d(new RegExp("^-?\\d{1,"+s+"}"),e)}}function J(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xe(s,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=s||100;else{const o=r+50,l=Math.trunc(o/100)*100,m=s>=o%100;a=s+l-(m?100:0)}return t?a:1-a}function he(s){return s%400===0||s%4===0&&s%100!==0}class Ke extends c{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return f(x(4,e),a);case"yo":return f(r.ordinalNumber(e,{unit:"year"}),a);default:return f(x(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=xe(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class Ue extends c{priority=130;parse(e,t,r){const a=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return f(x(4,e),a);case"Yo":return f(r.ordinalNumber(e,{unit:"year"}),a);default:return f(x(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const o=pe(e,a);if(r.isTwoDigitYear){const m=xe(r.year,o);return e.setFullYear(m,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),$(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),$(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Je extends c{priority=130;parse(e,t){return X(t==="R"?4:t.length,e)}set(e,t,r){const a=v(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),ae(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Se extends c{priority=130;parse(e,t){return X(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class et extends c{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return x(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class tt extends c{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return x(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class rt extends c{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=o=>o-1;switch(t){case"M":return f(d(h.month,e),a);case"MM":return f(x(2,e),a);case"Mo":return f(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class st extends c{priority=110;parse(e,t,r){const a=o=>o-1;switch(t){case"L":return f(d(h.month,e),a);case"LL":return f(x(2,e),a);case"Lo":return f(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function nt(s,e,t){const r=T(s,t?.in),a=be(r,t)-e;return r.setDate(r.getDate()-a*7),T(r,t?.in)}class at extends c{priority=100;parse(e,t,r){switch(t){case"w":return d(h.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return $(nt(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function ot(s,e,t){const r=T(s,t?.in),a=ye(r,t)-e;return r.setDate(r.getDate()-a*7),r}class it extends c{priority=100;parse(e,t,r){switch(t){case"I":return d(h.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return ae(ot(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ct=[31,28,31,30,31,30,31,31,30,31,30,31],lt=[31,29,31,30,31,30,31,31,30,31,30,31];class ut extends c{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return d(h.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=he(r),o=e.getMonth();return a?t>=1&&t<=lt[o]:t>=1&&t<=ct[o]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class dt extends c{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return d(h.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const r=e.getFullYear();return he(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function S(s,e,t){const r=ne(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=T(s,t?.in),l=o.getDay(),p=(e%7+7)%7,w=7-a,y=e<0||e>6?e-(l+w)%7:(p+w)%7-(l+w)%7;return oe(o,y,t)}class xt extends c{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=S(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class ht extends c{priority=90;parse(e,t,r,a){const o=l=>{const m=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+m};switch(t){case"e":case"ee":return f(x(t.length,e),o);case"eo":return f(r.ordinalNumber(e,{unit:"day"}),o);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=S(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class ft extends c{priority=90;parse(e,t,r,a){const o=l=>{const m=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+m};switch(t){case"c":case"cc":return f(x(t.length,e),o);case"co":return f(r.ordinalNumber(e,{unit:"day"}),o);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=S(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function mt(s,e,t){const r=T(s,t?.in),a=Re(r,t),o=e-a;return oe(r,o,t)}class wt extends c{priority=90;parse(e,t,r){const a=o=>o===0?7:o;switch(t){case"i":case"ii":return x(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return f(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return f(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return f(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return f(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=mt(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class pt extends c{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(J(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class bt extends c{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(J(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class yt extends c{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(J(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class gt extends c{priority=70;parse(e,t,r){switch(t){case"h":return d(h.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class kt extends c{priority=70;parse(e,t,r){switch(t){case"H":return d(h.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class jt extends c{priority=70;parse(e,t,r){switch(t){case"K":return d(h.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class vt extends c{priority=70;parse(e,t,r){switch(t){case"k":return d(h.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Nt extends c{priority=60;parse(e,t,r){switch(t){case"m":return d(h.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class Tt extends c{priority=50;parse(e,t,r){switch(t){case"s":return d(h.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class _t extends c{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return f(x(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Dt extends c{priority=10;parse(e,t){switch(t){case"X":return j(k.basicOptionalMinutes,e);case"XX":return j(k.basic,e);case"XXXX":return j(k.basicOptionalSeconds,e);case"XXXXX":return j(k.extendedOptionalSeconds,e);case"XXX":default:return j(k.extended,e)}}set(e,t,r){return t.timestampIsSet?e:v(e,e.getTime()-ie(e)-r)}incompatibleTokens=["t","T","x"]}class Ct extends c{priority=10;parse(e,t){switch(t){case"x":return j(k.basicOptionalMinutes,e);case"xx":return j(k.basic,e);case"xxxx":return j(k.basicOptionalSeconds,e);case"xxxxx":return j(k.extendedOptionalSeconds,e);case"xxx":default:return j(k.extended,e)}}set(e,t,r){return t.timestampIsSet?e:v(e,e.getTime()-ie(e)-r)}incompatibleTokens=["t","T","X"]}class Pt extends c{priority=40;parse(e){return de(e)}set(e,t,r){return[v(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Ot extends c{priority=20;parse(e){return de(e)}set(e,t,r){return[v(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Mt={G:new Ze,y:new Ke,Y:new Ue,R:new Je,u:new Se,Q:new et,q:new tt,M:new rt,L:new st,w:new at,I:new it,d:new ut,D:new dt,E:new xt,e:new ht,c:new ft,i:new wt,a:new pt,b:new bt,B:new yt,h:new gt,H:new kt,K:new jt,k:new vt,m:new Nt,s:new Tt,S:new _t,X:new Dt,x:new Ct,t:new Pt,T:new Ot},Et=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,It=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yt=/^'([^]*?)'?$/,Ht=/''/g,Bt=/\S/,qt=/[a-zA-Z]/;function Lt(s,e,t,r){const a=()=>v(t,NaN),o=Fe(),l=o.locale??ge,m=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,w={firstWeekContainsDate:m,weekStartsOn:p,locale:l},y=[new Ve(r?.in,t)],C=e.match(It).map(i=>{const u=i[0];if(u in te){const b=te[u];return b(i,l.formatLong)}return i}).join("").match(Et),N=[];for(let i of C){ke(i)&&re(i,e,s),je(i)&&re(i,e,s);const u=i[0],b=Mt[u];if(b){const{incompatibleTokens:P}=b;if(Array.isArray(P)){const Y=N.find(ee=>P.includes(ee.token)||ee.token===u);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${i}\` at the same time`)}else if(b.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${i}\` and any other token at the same time`);N.push({token:u,fullToken:i});const D=b.run(s,i,l.match,w);if(!D)return a();y.push(D.setter),s=D.rest}else{if(u.match(qt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");if(i==="''"?i="'":u==="'"&&(i=At(i)),s.indexOf(i)===0)s=s.slice(i.length);else return a()}}if(s.length>0&&Bt.test(s))return a();const z=y.map(i=>i.priority).sort((i,u)=>u-i).filter((i,u,b)=>b.indexOf(i)===u).map(i=>y.filter(u=>u.priority===i).sort((u,b)=>b.subPriority-u.subPriority)).map(i=>i[0]);let g=T(t,r?.in);if(isNaN(+g))return a();const I={};for(const i of z){if(!i.validate(g,w))return a();const u=i.set(g,I,w);Array.isArray(u)?(g=u[0],Object.assign(I,u[1])):g=u}return g}function At(s){return s.match(Yt)[1].replace(Ht,"'")}const Qt=()=>{const{session:s,companyTimezone:e,isLoading:t,error:r,fetchInitialData:a,clockIn:o,clockOut:l,startBreak:m,endBreak:p,clearError:w}=De();return O.useEffect(()=>{a()},[a]),{session:s,companyTimezone:e,isLoading:t,error:r,clockIn:o,clockOut:l,startBreak:m,endBreak:p,refresh:a,clearError:w}},Wt=({session:s,companyTimezone:e,isLoading:t,onClockIn:r,onClockOut:a,onStartBreak:o,onEndBreak:l})=>{const[m,p]=O.useState(!1),[w,y]=O.useState(!1),[C,N]=O.useState(!1),[z,g]=O.useState(!1),I=()=>{p(!1),r()},i=()=>{y(!1),a()},u=()=>{N(!1),o()},b=()=>{g(!1),l()},P=s?.break_records?.find(Y=>Y.status==="active"),D=s&&s.status!=="completed";return n.jsxs(n.Fragment,{children:[n.jsxs(M,{className:"bg-card border-border",children:[n.jsx(V,{className:"bg-accent",children:n.jsx(Z,{className:"text-foreground text-xl",children:"Time Clock"})}),n.jsxs(E,{className:"pt-6 space-y-6",children:[D&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Clocked in at"}),n.jsx("p",{className:"text-lg font-bold text-foreground",children:_(s.clock_in_utc,e).split(", ")[1]})]}),n.jsx(G,{className:s.status==="active"?"bg-chart-3 text-white":"bg-chart-2 text-white",children:s.status==="active"?"Working":"On Break"})]}),P&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Break started at"}),n.jsx("p",{className:"text-lg font-bold text-chart-2",children:_(P.break_start_utc,e).split(", ")[1]})]})})]}),n.jsx("div",{className:"space-y-3",children:D?n.jsx(n.Fragment,{children:s.status==="active"?n.jsxs(n.Fragment,{children:[n.jsxs(H,{onClick:()=>N(!0),disabled:t,variant:"outline",className:"w-full",size:"lg",children:[n.jsx(U,{className:"w-4 h-4 mr-2"}),"Start Break"]}),n.jsxs(H,{onClick:()=>y(!0),disabled:t,className:"w-full bg-destructive text-white hover:bg-destructive/90",size:"lg",children:[n.jsx(We,{className:"w-4 h-4 mr-2"}),"Clock Out"]})]}):n.jsxs(H,{onClick:()=>g(!0),disabled:t,className:"w-full bg-chart-2 text-white hover:bg-chart-2/90",size:"lg",children:[n.jsx(Ye,{className:"w-4 h-4 mr-2"}),"End Break"]})}):n.jsxs(H,{onClick:()=>p(!0),disabled:t,className:"w-full bg-chart-3 text-white hover:bg-chart-3/90",size:"lg",children:[n.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Clock In"]})})]})]}),n.jsx(B,{open:m,onOpenChange:p,children:n.jsxs(q,{children:[n.jsxs(L,{children:[n.jsx(A,{children:"Clock In"}),n.jsx(Q,{children:"Are you sure you want to clock in now?"})]}),n.jsxs(W,{children:[n.jsx(F,{children:"Cancel"}),n.jsx(R,{onClick:I,children:"Clock In"})]})]})}),n.jsx(B,{open:w,onOpenChange:y,children:n.jsxs(q,{children:[n.jsxs(L,{children:[n.jsx(A,{children:"Clock Out"}),n.jsx(Q,{children:"Are you sure you want to clock out now?"})]}),n.jsxs(W,{children:[n.jsx(F,{children:"Cancel"}),n.jsx(R,{onClick:i,children:"Clock Out"})]})]})}),n.jsx(B,{open:C,onOpenChange:N,children:n.jsxs(q,{children:[n.jsxs(L,{children:[n.jsx(A,{children:"Start Break"}),n.jsx(Q,{children:"Are you sure you want to start your break now?"})]}),n.jsxs(W,{children:[n.jsx(F,{children:"Cancel"}),n.jsx(R,{onClick:u,children:"Start Break"})]})]})}),n.jsx(B,{open:z,onOpenChange:g,children:n.jsxs(q,{children:[n.jsxs(L,{children:[n.jsx(A,{children:"End Break"}),n.jsx(Q,{children:"Are you sure you want to end your break now?"})]}),n.jsxs(W,{children:[n.jsx(F,{children:"Cancel"}),n.jsx(R,{onClick:b,children:"End Break"})]})]})})]})},Ft=({session:s})=>{const e=Oe(s?.clock_in_utc||null,s?.clock_out_utc||null,s?.break_records||[],s?.status||null),t=Me(s?.break_records||[],s?.status||null),r=[{label:"Work Time",value:e,icon:ce,color:"text-chart-3",bgColor:"bg-accent",isActive:s?.status==="active"},{label:"Break Time",value:t,icon:U,color:"text-chart-2",bgColor:"bg-accent",isActive:s?.status==="on_break"},{label:"Breaks Today",value:s?.break_records?.length||0,icon:qe,color:"text-chart-5",bgColor:"bg-accent",isActive:!1}];return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(a=>{const o=a.icon;return n.jsx(M,{className:`bg-card border-border ${a.isActive?"ring-2 ring-ring":""}`,children:n.jsxs(E,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a.label}),n.jsx("div",{className:`p-2 rounded-full ${a.bgColor}`,children:n.jsx(o,{className:`w-5 h-5 ${a.color}`})})]}),n.jsx("div",{className:"text-3xl font-bold text-foreground font-mono tabular-nums",children:a.value}),a.isActive&&n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsxs("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-ring opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-ring"})]}),n.jsx("span",{className:"text-xs text-ring font-medium",children:"Running"})]})]})},a.label)})})},Rt=ve("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Gt({className:s,variant:e,...t}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:le(Rt({variant:e}),s),...t})}function Xt({className:s,...e}){return n.jsx("div",{"data-slot":"alert-description",className:le("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...e})}const zt=({session:s,companyTimezone:e})=>s?n.jsxs(M,{className:"bg-card border-border",children:[n.jsx(V,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Z,{className:"flex items-center gap-2 text-foreground",children:[n.jsx(se,{className:"w-5 h-5"}),"Today's Session"]}),n.jsx(G,{variant:s.status==="completed"?"secondary":"default",children:s.status==="completed"?"Completed":"In Progress"})]})}),n.jsxs(E,{className:"space-y-4",children:[s.crosses_midnight&&n.jsxs(Gt,{children:[n.jsx(He,{className:"h-4 w-4"}),n.jsx(Xt,{children:"This session crossed midnight"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clock In"}),n.jsx("p",{className:"font-medium text-foreground",children:_(s.clock_in_utc,e).split(", ")[1]})]}),s.clock_out_utc&&n.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clock Out"}),n.jsx("p",{className:"font-medium text-foreground",children:_(s.clock_out_utc,e).split(", ")[1]})]})]}),s.break_records&&s.break_records.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[n.jsx(U,{className:"w-4 h-4"}),"Breaks (",s.break_records.length,")"]}),n.jsxs(Ne,{className:"max-h-64",children:[n.jsx("div",{className:"space-y-2 pr-2",children:s.break_records.map((t,r)=>n.jsx($t,{breakRecord:t,index:r,companyTimezone:e},t.id))}),n.jsx(Te,{orientation:"vertical"})]})]})]})]}):n.jsxs(M,{className:"bg-card border-border",children:[n.jsx(V,{children:n.jsxs(Z,{className:"flex items-center gap-2 text-foreground",children:[n.jsx(se,{className:"w-5 h-5"}),"Current Session"]})}),n.jsx(E,{children:n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No session for today. Clock in to start tracking."})})]}),$t=({breakRecord:s,index:e,companyTimezone:t})=>{const r=Ee(s.break_start_utc,s.break_end_utc,s.status==="active"),a=s.status==="completed"?Ce(Pe(s.break_start_utc,s.break_end_utc)):null;return n.jsx("div",{className:`p-4 rounded-lg border-2 ${s.status==="active"?"bg-accent border-chart-2/20":"bg-accent border-border"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(G,{variant:"outline",className:"text-xs",children:["Break ",e+1]}),s.status==="active"&&n.jsx(G,{className:"text-xs bg-chart-2 text-white",children:"Active"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[_(s.break_start_utc,t).split(", ")[1],s.break_end_utc&&n.jsxs(n.Fragment,{children:[" â†’ ",_(s.break_end_utc,t).split(", ")[1]]})]}),s.description&&n.jsx("p",{className:"text-sm text-foreground mt-2",children:s.description})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"text-xl font-bold text-foreground font-mono tabular-nums",children:s.status==="active"?r:a})})]})})},tr=()=>{const{session:s,companyTimezone:e,isLoading:t,clockIn:r,clockOut:a,startBreak:o,endBreak:l}=Qt(),m=Ie(),p=_(m.toISOString(),e??"UTC"),[w,y]=p.split(", "),C=w?_e(Lt(w,"MM/dd/yyyy",new Date),"EEEE, MMMM d, yyyy"):"";return n.jsx("div",{className:"min-h-screen flex flex-col",children:n.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ce,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Time Clock"}),n.jsx("p",{className:"text-muted-foreground",children:"Track your work hours and breaks"})]})]})}),n.jsx(M,{className:"bg-card border-border",children:n.jsx(E,{className:"p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-6xl font-bold text-foreground font-mono tabular-nums mb-2",children:[y??p," "]}),n.jsx("div",{className:"text-xl text-muted-foreground",children:C||w})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Wt,{session:s,companyTimezone:e,isLoading:t,onClockIn:r,onClockOut:a,onStartBreak:o,onEndBreak:l})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Ft,{session:s}),n.jsx(zt,{session:s,companyTimezone:e})]})]})]})})};export{tr as default};
