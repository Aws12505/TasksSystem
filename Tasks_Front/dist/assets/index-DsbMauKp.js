import{j as e,D as p,q as f,B as j,v as N,w as c,x as i,z as m,p as b,I as v}from"./index-BIXuByyq.js";import{C as x,d as h,a as w,b as y}from"./card-DXKjgZZu.js";import{u as C}from"./useRoles-CNUMmpC4.js";import{u as T}from"./filtersStore-KkYnU9VE.js";import{T as D,a as R,b as u,c as a,d as S,e as t}from"./table-Df7jZcpg.js";import{B as E}from"./badge-w_G-QZAg.js";import{E as A}from"./ellipsis-BzFAVc6a.js";import{E as B}from"./eye-DPB64O2K.js";import{S as M}from"./square-pen-D1mPz8ko.js";import{T as P}from"./trash-2-xlj9cGPo.js";import{P as L}from"./plus-Dd03PpEI.js";import"./rolesStore-DKB12BZD.js";import"./permissionService-CI14GwPI.js";const k=({roles:r,isLoading:l,onDelete:d})=>l?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,n)=>e.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-lg"},n))}):r.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No roles found"})}):e.jsx("div",{className:"border border-border rounded-lg bg-card",children:e.jsxs(D,{children:[e.jsx(R,{children:e.jsxs(u,{className:"border-border",children:[e.jsx(a,{className:"text-foreground",children:"Role Name"}),e.jsx(a,{className:"text-foreground",children:"Permissions"}),e.jsx(a,{className:"text-foreground",children:"Guard Name"}),e.jsx(a,{className:"text-foreground",children:"Created"}),e.jsx(a,{className:"text-foreground w-[50px]",children:"Actions"})]})}),e.jsx(S,{children:r.map(s=>e.jsxs(u,{className:"border-border hover:bg-accent/50",children:[e.jsx(t,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-primary font-medium text-sm",children:s.name.charAt(0).toUpperCase()})}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.name})]})}),e.jsx(t,{children:e.jsxs(E,{variant:"secondary",className:"text-xs",children:[s.permissions?.length||0," permissions"]})}),e.jsx(t,{className:"text-muted-foreground text-sm",children:s.guard_name}),e.jsx(t,{className:"text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()}),e.jsx(t,{children:e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(j,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-accent",children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsxs(N,{align:"end",className:"bg-popover border-border",children:[e.jsx(c,{asChild:!0,className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs(i,{to:`/roles/${s.id}`,className:"flex items-center",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsx(c,{asChild:!0,className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs(i,{to:`/roles/${s.id}/edit`,className:"flex items-center",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(c,{onClick:()=>d(s.id),className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},s.id))})]})}),O=()=>{const{roles:r,isLoading:l,deleteRole:d}=C(),{searchQuery:s,setSearchQuery:n}=T(),g=async o=>{window.confirm("Are you sure you want to delete this role?")&&await d(o)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Roles"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage system roles and their permissions"})]})]}),e.jsx(j,{asChild:!0,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:e.jsxs(i,{to:"/roles/create",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Role"]})})]}),e.jsx(x,{className:"bg-card border-border",children:e.jsx(h,{className:"p-4",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(v,{placeholder:"Search roles...",value:s,onChange:o=>n(o.target.value),className:"pl-10 bg-background border-input text-foreground"})]})})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.jsxs(x,{className:"bg-card border-border",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium text-muted-foreground",children:"Total Roles"}),e.jsx(m,{className:"w-4 h-4 text-chart-1"})]}),e.jsx(h,{children:e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.length})})]})}),e.jsx(k,{roles:r,isLoading:l,onDelete:g})]})};export{O as default};
