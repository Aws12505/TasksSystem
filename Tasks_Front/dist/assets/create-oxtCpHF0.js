import{D as o,Q as x,_ as u,j as e,T as h,B as p,Z as f,C as j,c as N,d as g,f as v}from"./index-BAxnQz6X.js";import{u as b}from"./ticketsStore-D0fCx5xl.js";import{T as k}from"./TicketForm-HVfFOMcJ.js";import{A as T}from"./arrow-left-D_pQe2Bh.js";import"./form-DlMgMJR5.js";import"./label-ClF9N7dm.js";import"./file--TEeGRav.js";const E=()=>{const i=o(),{isAuthenticated:r}=x(),{availableUsers:c,isLoading:s,createTicket:d,fetchAvailableUsers:a,getTypeOptions:l}=b();u.useEffect(()=>{a()},[a]);const n=async m=>{const t=await d(m);t&&i(`/tickets/${t.id}`)};return e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(h,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Create Ticket"}),e.jsx("p",{className:"text-muted-foreground",children:"Submit a new support ticket"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(p,{variant:"outline",size:"sm",asChild:!0,disabled:s,children:e.jsxs(f,{to:"/tickets",className:"flex items-center",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Back to Tickets"]})})})]}),e.jsx("div",{className:"max-w-2xl",children:e.jsxs(j,{className:"bg-card border-border",children:[e.jsx(N,{children:e.jsx(g,{className:"text-foreground",children:"Ticket Information"})}),e.jsx(v,{children:s?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-24 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded w-32"}),e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded w-24"})]})]}):e.jsx(k,{availableUsers:c,typeOptions:l(),onSubmit:n,isLoading:s,isAuthenticated:r})})]})})]})})};export{E as default};
