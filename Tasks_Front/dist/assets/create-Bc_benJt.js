import{A as u,am as h,a7 as p,j as e,B as f,x as j,an as v}from"./index-CLnmuTsT.js";import{C as g,a as N,b,d as q}from"./card-nZHOKDYn.js";import{u as R}from"./helpRequestsStore-vutqp9s-.js";import{H as C}from"./HelpRequestForm-BBJsOq59.js";import{A as H}from"./arrow-left-8pt3QYXv.js";const I=()=>{const l=u(),[i]=h(),s=i.get("task_id"),{availableTasks:c,availableUsers:n,isLoading:d,createHelpRequest:o,fetchAvailableTasks:a,fetchAvailableUsers:t}=R();p.useEffect(()=>{a(),t()},[a,t]);const m=async x=>{const r=await o(x);r&&l(`/help-requests/${r.id}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(j,{to:"/help-requests",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Back to Help Requests"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(v,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground font-sans",children:"Request Help"}),e.jsx("p",{className:"text-muted-foreground",children:"Get assistance with your tasks"})]})]})]}),e.jsx("div",{className:"max-w-2xl",children:e.jsxs(g,{className:"bg-card border-border",children:[e.jsx(N,{children:e.jsx(b,{className:"text-foreground",children:"Help Request Details"})}),e.jsx(q,{children:e.jsx(C,{availableTasks:c,availableUsers:n,taskId:s?parseInt(s):void 0,onSubmit:m,isLoading:d})})]})})]})};export{I as default};
