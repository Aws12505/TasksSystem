import{z as u,C as x,l as p,j as e,B as h,y as j,T as f}from"./index--vQxBrGw.js";import{C as k,a as T,b as g,d as N}from"./card-C8XzxF3O.js";import{u as v}from"./useTicket-BDrRusVu.js";import{u as b}from"./useTickets-Bz_sn9pO.js";import{u as y}from"./ticketsStore-BAA33kt7.js";import{T as C}from"./TicketForm-DZJRBLoy.js";import{A as w}from"./arrow-left-B8spmGt3.js";import"./filtersStore-CLkdRUnQ.js";const $=()=>{const{id:t}=u(),i=x(),{ticket:s,availableUsers:r,isLoading:c,error:a}=v(t),{updateTicket:d}=b(),{getTypeOptions:n}=y(),{isAuthenticated:o}=p(),l=async m=>{if(!s)return;await d(s.id,m)&&i(`/tickets/${s.id}`)};return c?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-48"}),e.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a||!s?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:a||"Ticket not found"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(j,{to:`/tickets/${t}`,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Back to Ticket"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(f,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground font-sans",children:"Edit Ticket"}),e.jsxs("p",{className:"text-muted-foreground",children:["Update ",s.title]})]})]})]}),e.jsx("div",{className:"max-w-2xl",children:e.jsxs(k,{className:"bg-card border-border",children:[e.jsx(T,{children:e.jsx(g,{className:"text-foreground",children:"Ticket Information"})}),e.jsx(N,{children:e.jsx(C,{ticket:s,availableUsers:r,typeOptions:n(),onSubmit:l,isLoading:!1,isAuthenticated:o})})]})})]})};export{$ as default};
