import{A as u,aq as h,R as p,j as e,at as f,B as j,x as v}from"./index-DB2dH0Gn.js";import{C as N,a as g,b,d as q}from"./card-Do0T9gHn.js";import{u as R}from"./helpRequestsStore-hUxqNoe1.js";import{H as w}from"./HelpRequestForm-89z9jChJ.js";import{A as C}from"./arrow-left-C3FmFHG1.js";const I=()=>{const i=u(),[d]=h(),a=d.get("task_id"),{availableTasks:c,availableUsers:n,isLoading:s,createHelpRequest:m,fetchAvailableTasks:t,fetchAvailableUsers:l}=R();p.useEffect(()=>{t(),l()},[t,l]);const o=async x=>{const r=await m(x);r&&i(`/help-requests/${r.id}`)};return e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(f,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Request Help"}),e.jsx("p",{className:"text-muted-foreground",children:"Get assistance with your tasks"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(j,{variant:"outline",size:"sm",asChild:!0,disabled:s,children:e.jsxs(v,{to:"/help-requests",className:"flex items-center",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Back to Help Requests"]})})})]}),e.jsx("div",{className:"max-w-2xl",children:e.jsxs(N,{className:"bg-card border-border",children:[e.jsx(g,{children:e.jsx(b,{className:"text-foreground",children:"Help Request Details"})}),e.jsx(q,{children:s?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-24 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded w-32"}),e.jsx("div",{className:"h-10 bg-muted animate-pulse rounded w-24"})]})]}):e.jsx(w,{availableTasks:c,availableUsers:n,taskId:a?parseInt(a):void 0,onSubmit:o,isLoading:s})})]})})]})})};export{I as default};
