import{a as ye,b as ke,o as Ce,j as e,I as Se,a7 as Pe,B as N,L as De,s as I,R as D,a8 as M,y as E,a9 as _e,aa as Y,C,c as G,d as J,ab as Te,$ as A,f as S,ac as Ae,ad as Ee,ae as Fe,af as Ue,ag as ze,V as X,W as Z,X as Q,Y as P,ah as Be,ai as ee,D as Re,S as L,E as se,U as ae,aj as $e,ak as Ie,al as Me,G as te,H as re,J as ne,am as Le,a0 as Oe,an as Ve,a6 as B,Z as T}from"./index-hR1LJjZT.js";import{P as qe}from"./progress-Y-e7LYWa.js";import{u as Ke}from"./useProject-BkJhFAJ3.js";import{P as We,K as He}from"./ProjectStatusBadge-DbEANehJ.js";import{B as ie}from"./badge-4hw1HmH9.js";import{P as Ye,a as Ge,b as R,c as Je,d as Xe,e as Ze,f as Qe}from"./pagination-Cs_mtV24.js";import{A as le,a as ce,b as oe,c as de,d as me,e as xe,f as he,g as ue}from"./alert-dialog-DFYSaB2Y.js";import{F as es,a as O,b as V,c as q,d as K,e as W}from"./form-DyI61jvE.js";import{E as pe}from"./ellipsis-DFTibMMO.js";import{S as $}from"./square-pen-D9e0Lyv0.js";import{T as ge}from"./trash-2-FS_7RcYV.js";import{E as ss}from"./eye-Dk_I94zq.js";import{A as H}from"./arrow-left-DNxT9jga.js";import"./label-C7fLOv-N.js";const as=Ce({name:I().min(1,"Section name is required").max(255),description:I().optional()}),je=({section:a,onSubmit:s,onCancel:f,isLoading:i})=>{const l=ye({resolver:ke(as),defaultValues:{name:a?.name||"",description:a?.description||""}}),u=async m=>{await s(m)};return e.jsx(es,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[e.jsx(O,{control:l.control,name:"name",render:({field:m})=>e.jsxs(V,{children:[e.jsx(q,{className:"text-foreground",children:"Section Name"}),e.jsx(K,{children:e.jsx(Se,{placeholder:"Enter section name",...m,disabled:i,className:"bg-background border-input text-foreground"})}),e.jsx(W,{className:"text-destructive"})]})}),e.jsx(O,{control:l.control,name:"description",render:({field:m})=>e.jsxs(V,{children:[e.jsx(q,{className:"text-foreground",children:"Description"}),e.jsx(K,{children:e.jsx(Pe,{placeholder:"Enter section description (optional)",...m,disabled:i,className:"bg-background border-input text-foreground",rows:2})}),e.jsx(W,{className:"text-destructive"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{type:"submit",size:"sm",disabled:i,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[i&&e.jsx(De,{className:"mr-2 h-3 w-3 animate-spin"}),a?"Update":"Create"]}),e.jsx(N,{type:"button",variant:"outline",size:"sm",onClick:f,disabled:i,children:"Cancel"})]})]})})},ts=({children:a,className:s,animate:f=!1,size:i=40,...l})=>e.jsx("div",{className:M("-space-x-1 flex items-center",f&&"hover:space-x-0 [&>*]:transition-all",s),...l,children:D.Children.map(a,(u,m)=>u?e.jsx("div",{className:M("size-full shrink-0 overflow-hidden rounded-full",'[&_[data-slot="avatar"]]:size-full',s),style:{width:i,height:i,maskImage:m?`radial-gradient(circle ${i/2}px at -${i/4+i/10}px 50%, transparent 99%, white 100%)`:""},children:u}):null)}),rs=({sections:a,projectId:s,onCreateSection:f,onUpdateSection:i,onDeleteSection:l,isLoading:u})=>{const[m,v]=D.useState(!1),[c,b]=D.useState(null),[p,w]=D.useState(new Set),{hasPermission:g}=E(),{openTaskDialog:y}=_e(),{projectPagination:o,fetchSectionsByProject:j}=Y(),r=o[s]||null,[k,d]=D.useState(null),n=async t=>{await f({...t,project_id:s}),v(!1)},x=async t=>{c&&(await i(c.id,t),b(null))},F=async t=>{d(t)},fe=async()=>{k!=null&&(await l(k),d(null))},Ne=t=>{const h=new Set(p);h.has(t)?h.delete(t):h.add(t),w(h)},U=t=>{j(s,t)},ve=()=>{r&&r.current_page<r.last_page&&U(r.current_page+1)},be=()=>{r&&r.current_page>1&&U(r.current_page-1)},we=()=>{if(!r)return[];const t=[],{current_page:h,last_page:_}=r;h>3&&(t.push(1),h>4&&t.push("ellipsis-start"));for(let z=Math.max(1,h-2);z<=Math.min(_,h+2);z++)t.push(z);return h<_-2&&(h<_-3&&t.push("ellipsis-end"),t.push(_)),t};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(C,{className:"bg-card border-border",children:[e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"text-foreground flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5"}),"Sections & Tasks (",r?.total||a.length,")"]}),g("create sections")&&e.jsxs(N,{type:"button",size:"sm",onClick:()=>v(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Add Section"]})]})}),e.jsxs(S,{className:"space-y-4",children:[m&&g("create sections")&&e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-accent/20",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Create New Section"}),e.jsx(je,{onSubmit:n,onCancel:()=>v(!1),isLoading:u})]}),u?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((t,h)=>e.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},h))}):a.length===0?e.jsxs("p",{className:"text-muted-foreground text-center py-8",children:["No sections yet."," ",g("create sections")?"Create your first section to get started.":"No sections available."]}):a.map(t=>e.jsx(ns,{section:t,projectId:s,isExpanded:p.has(t.id),onToggle:()=>Ne(t.id),onEdit:()=>b(t),onDelete:async()=>{await F(t.id)},isEditing:c?.id===t.id,editingSection:c,onUpdateSection:x,onCancelEdit:()=>b(null),openTaskDialog:y,isLoading:u},t.id))]})]}),r&&r.last_page>1&&e.jsx(C,{className:"bg-card border-border",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",r.from||0," to ",r.to||0," of"," ",r.total," results"]}),e.jsx(Ye,{children:e.jsxs(Ge,{children:[e.jsx(R,{children:e.jsx(Je,{onClick:be,className:r.current_page===1?"pointer-events-none opacity-50":"cursor-pointer"})}),we().map((t,h)=>e.jsx(R,{children:t==="ellipsis-start"||t==="ellipsis-end"?e.jsx(Xe,{}):e.jsx(Ze,{onClick:()=>U(t),isActive:r.current_page===t,className:"cursor-pointer",children:t})},h)),e.jsx(R,{children:e.jsx(Qe,{onClick:ve,className:r.current_page===r.last_page?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})})}),e.jsx(le,{open:k!==null,onOpenChange:t=>!t&&d(null),children:e.jsxs(ce,{className:"sm:max-w-[480px]",children:[e.jsxs(oe,{children:[e.jsx(de,{children:"Delete section"}),e.jsx(me,{children:"Are you sure you want to delete this section? All contained tasks will remain but the section will be removed. This action cannot be undone."})]}),e.jsxs(xe,{children:[e.jsx(he,{onClick:()=>d(null),children:"Cancel"}),e.jsx(ue,{onClick:fe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},ns=({section:a,projectId:s,isExpanded:f,onToggle:i,onEdit:l,onDelete:u,isEditing:m,editingSection:v,onUpdateSection:c,onCancelEdit:b,openTaskDialog:p,isLoading:w})=>{const{tasks:g,deleteTask:y}=Ae(a.id),{hasPermission:o}=E(),[j,r]=D.useState(null),k=async n=>{o("delete tasks")&&r(n)},d=async()=>{j!=null&&(await y(j),r(null))};return m?e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-accent/20",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Edit Section"}),e.jsx(je,{section:v,onSubmit:c,onCancel:b,isLoading:w})]}):e.jsxs("div",{className:"border border-border rounded-lg",children:[e.jsxs(Ee,{open:f,onOpenChange:i,children:[e.jsx(Fe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f?e.jsx(Ue,{className:"w-4 h-4 text-muted-foreground"}):e.jsx(ze,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("div",{className:"w-3 h-3 bg-chart-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:a.name}),a.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ie,{variant:"outline",className:"text-xs",children:[g.length," tasks"]}),(o("edit sections")||o("delete sections")||o("create tasks"))&&e.jsxs(X,{children:[e.jsx(Z,{asChild:!0,onClick:n=>n.stopPropagation(),children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",type:"button",children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsxs(Q,{align:"end",className:"bg-popover border-border",children:[o("edit sections")&&e.jsxs(P,{onClick:n=>{n.stopPropagation(),l()},className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Edit Section"]}),o("create tasks")&&e.jsxs(P,{onClick:n=>{n.stopPropagation(),n.preventDefault(),p(a,s)},className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Add Task"]}),o("delete sections")&&e.jsxs(P,{onClick:n=>{n.stopPropagation(),u()},className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),"Delete Section"]})]})]})]})]})}),e.jsx(Be,{children:e.jsx("div",{className:"border-t border-border",children:e.jsx("div",{className:"p-4",children:g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ee,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"No tasks in this section yet"}),o("create tasks")&&e.jsxs(N,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:n=>{p(a,s),n.stopPropagation(),n.preventDefault()},children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Add First Task"]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h5",{className:"text-sm font-medium text-foreground",children:["Tasks (",g.length,")"]}),o("create tasks")&&e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:n=>{p(a,s),n.stopPropagation(),n.preventDefault()},children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),g.map(n=>e.jsx(is,{task:n,onEdit:x=>o("edit tasks")&&p(a,s,x),onDelete:async x=>{await k(x)}},n.id))]})})})})]}),e.jsx(le,{open:j!==null,onOpenChange:n=>!n&&r(null),children:e.jsxs(ce,{className:"sm:max-w-[480px]",children:[e.jsxs(oe,{children:[e.jsx(de,{children:"Delete task"}),e.jsx(me,{children:"Are you sure you want to delete this task? This action cannot be undone."})]}),e.jsxs(xe,{children:[e.jsx(he,{onClick:()=>r(null),children:"Cancel"}),e.jsx(ue,{onClick:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},is=({task:a,onEdit:s,onDelete:f})=>{const{hasPermission:i,hasAnyPermission:l}=E(),u=d=>{switch(d){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},m=Re(),v=d=>{switch(d){case"done":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"rated":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},c=new Date(a.due_date)<new Date&&a.status!=="done"&&a.status!=="rated",b=()=>{l(["create task ratings","edit task ratings"])&&window.open(`/ratings/tasks/${a.id}`,"_blank")},p=i("view tasks"),w=i("edit tasks"),g=i("delete tasks"),y=l(["create task ratings","edit task ratings"]),o=p||w||g||y,j=d=>d?d.split(" ").filter(Boolean).map(n=>n[0]?.toUpperCase()).slice(0,2).join(""):"?",r=()=>{const d=a.assigned_users||[];return d.length===0?e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(ae,{className:"w-3 h-3"}),"No assignees"]}):e.jsx($e,{children:e.jsx(ts,{children:d.map(n=>{const x=n&&n.user?n.user:n,F=x?.id??x?.email??x?.name??k();return e.jsxs(Ie,{children:[e.jsx(Me,{asChild:!0,children:e.jsxs(te,{className:"h-6 w-6 ring-2 ring-background",children:[e.jsx(re,{src:x?.avatar_url,alt:x?.name}),e.jsx(ne,{className:"text-[10px]",children:j(x?.name)})]})}),e.jsxs(Le,{side:"top",className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:x?.name??"Unknown"}),x?.email&&e.jsx("div",{className:"text-muted-foreground",children:x.email})]})]},String(F))})})})},k=()=>Math.random().toString(36).slice(2);return e.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg hover:bg-accent/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${u(a.priority)}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h6",{className:"font-medium text-foreground truncate",children:a.name}),e.jsx(ie,{variant:"outline",className:`text-xs ${v(a.status)}`,children:a.status.replace("_"," ")})]}),e.jsx("div",{className:"mt-1",children:r()}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),"Weight: ",a.weight]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),"Due: ",new Date(a.due_date).toLocaleDateString(),c&&e.jsx("span",{className:"text-red-500 font-medium",children:"(Overdue)"}),!c&&a.completed_at&&e.jsxs("span",{className:"text-green-500 font-medium",children:["(Completed at"," ",new Date(a.completed_at).toLocaleDateString(),")"]})]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:o?e.jsxs(X,{children:[e.jsx(Z,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",type:"button",children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsxs(Q,{align:"end",className:"bg-popover border-border",children:[p&&e.jsxs(P,{onClick:()=>m(`/tasks/${a.id}`),className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx(ss,{className:"mr-2 h-4 w-4"}),"View Task"]}),w&&e.jsxs(P,{onClick:()=>s(a),className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Edit Task"]}),y&&e.jsxs(P,{onClick:b,className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Rate Task"]}),g&&e.jsxs(P,{onClick:async()=>{await f(a.id)},className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),"Delete Task"]})]})]}):e.jsx("span",{className:"text-muted-foreground text-xs",children:"No actions"})})]})},bs=()=>{const{id:a}=Oe(),{project:s,sections:f,isLoading:i,error:l}=Ke(a),{createSection:u,updateSection:m,deleteSection:v}=Y(),{hasPermission:c,hasAnyPermission:b}=E(),{fetchProjectSections:p}=Ve(),w=async j=>{if(!c("create sections"))return;await u(j)&&s&&await p(s.id)},g=async(j,r)=>{if(!c("edit sections"))return;await m(j,r)&&s&&await p(s.id)},y=async j=>{if(!c("delete sections"))return;await v(j)&&s&&await p(s.id)},o=b(["create stakeholder ratings","edit stakeholder ratings"]);return i?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(B,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-48"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-64 mt-2"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(N,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(C,{className:"bg-card border-border",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-muted animate-pulse rounded w-40"}),e.jsx("div",{className:"h-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-6 bg-muted animate-pulse rounded w-28"}),e.jsx("div",{className:"h-3 bg-muted animate-pulse rounded"})]})})}),e.jsx(C,{className:"bg-card border-border lg:col-span-2",children:e.jsx(S,{className:"p-6",children:e.jsx("div",{className:"h-64 bg-muted animate-pulse rounded"})})})]})]})}):l||!s?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:e.jsx(C,{className:"bg-card border-border",children:e.jsx(S,{className:"p-8 text-center",children:e.jsx("p",{className:"text-destructive",children:l||"Project not found"})})})})}):e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(B,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{status:s.status}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.progress_percentage,"% complete"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(T,{to:"/projects",className:"flex items-center",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})}),o&&s.stakeholder_will_rate&&e.jsx(N,{asChild:!0,variant:"outline",size:"sm",children:e.jsxs(T,{to:`/ratings/projects/${s.id}/stakeholder`,children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Stakeholder Rating"]})}),c("view projects")&&e.jsx(N,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(T,{to:`/projects/${s.id}/kanban`,children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Kanban View"]})}),c("edit projects")&&e.jsx(N,{asChild:!0,size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:e.jsxs(T,{to:`/projects/${s.id}/edit`,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Edit Project"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs(C,{className:"bg-card border-border",children:[e.jsx(G,{children:e.jsxs(J,{className:"text-foreground flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Project Information"]})}),e.jsxs(S,{className:"space-y-4",children:[s.description&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-foreground",children:s.description})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Stakeholder"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(te,{className:"w-8 h-8",children:[typeof s.stakeholder?.avatar_url=="string"&&s.stakeholder?.avatar_url.trim()!==""&&e.jsx(re,{src:s.stakeholder?.avatar_url,alt:s.stakeholder?.name||"User avatar",className:"object-cover"}),e.jsx(ne,{className:"bg-primary text-primary-foreground text-sm",children:s.stakeholder?.name?.charAt(0).toUpperCase()||"U"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.stakeholder?.name||"Unassigned"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.stakeholder?.email})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),e.jsx(qe,{value:s.progress_percentage,className:"mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.progress_percentage,"% complete"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Will be rated"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ee,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:s.stakeholder_will_rate?"Yes":"No"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),e.jsxs("p",{className:"text-sm text-foreground flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),new Date(s.created_at).toLocaleDateString()]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:c("view sections")?e.jsx(rs,{sections:f??[],projectId:s.id,onCreateSection:w,onUpdateSection:g,onDeleteSection:y,isLoading:!1}):e.jsx(C,{className:"bg-card border-border",children:e.jsx(S,{className:"p-6 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view sections"})})})})]})]})})};export{bs as default};
