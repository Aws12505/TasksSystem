import{h as D,j as e,D as S,q as B,B as T,v as M,w as m,x as v,p as E,I as L}from"./index-DVPQua6C.js";import{C as i,d as c,a as h,b as g}from"./card-Chf90Mg7.js";import{T as P,a as I,b as u,c as f}from"./tabs-DESnkWRY.js";import{u as V}from"./useRatingConfigs-DC5yiu97.js";import{u as F}from"./filtersStore-CYp_92GW.js";import{T as U,a as H,b as C,c as n,d as q,e as l}from"./table-SlX0U6Ko.js";import{B as Q}from"./badge-B3kg6diS.js";import{A as $,a as z}from"./avatar-BxGrUJqc.js";import{R as G,P as J}from"./RatingConfigTypeBadge-U9GRtUCQ.js";import{E as K}from"./ellipsis-DxDSImCh.js";import{E as O}from"./eye-EiWUzgME.js";import{S as W}from"./square-pen-CEEIaiT2.js";import{T as X}from"./trash-2-JOKSwM_-.js";import{S as k}from"./settings-B5TlfA8j.js";import{P as Y}from"./plus-rTp2amDg.js";import{C as Z}from"./circle-check-DvUOUYix.js";import{C as ee}from"./clock-CSTVRaBf.js";import"./ratingConfigsStore-B1_dra5T.js";import"./ratingConfigService-CboAdWmN.js";import"./index-CziG7LWy.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ae=D("database",se),j=({ratingConfigs:r,isLoading:t,onDelete:p,onActivate:N,showActions:o=!0})=>t?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((a,b)=>e.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-lg"},b))}):r.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No rating configurations found"})}):e.jsx("div",{className:"border border-border rounded-lg bg-card",children:e.jsxs(U,{children:[e.jsx(H,{children:e.jsxs(C,{className:"border-border",children:[e.jsx(n,{className:"text-foreground",children:"Name"}),e.jsx(n,{className:"text-foreground",children:"Type"}),e.jsx(n,{className:"text-foreground",children:"Status"}),e.jsx(n,{className:"text-foreground",children:"Creator"}),e.jsx(n,{className:"text-foreground",children:"Created"}),o&&e.jsx(n,{className:"text-foreground w-[50px]",children:"Actions"})]})}),e.jsx(q,{children:r.map(a=>e.jsxs(C,{className:"border-border hover:bg-accent/50",children:[e.jsx(l,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:a.name}),a.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.description})]})}),e.jsx(l,{children:e.jsx(G,{type:a.type})}),e.jsx(l,{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:a.is_active?"default":"secondary",className:a.is_active?"text-green-600 bg-green-100":"",children:a.is_active?"Active":"Inactive"})})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-6 h-6",children:e.jsx(z,{className:"bg-primary text-primary-foreground text-xs",children:a.creator?.name?.charAt(0).toUpperCase()||"U"})}),e.jsx("span",{className:"text-sm text-foreground",children:a.creator?.name||"Unknown User"})]})}),e.jsx(l,{className:"text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()}),o&&e.jsx(l,{children:e.jsxs(S,{children:[e.jsx(B,{asChild:!0,children:e.jsx(T,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-accent",children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsxs(M,{align:"end",className:"bg-popover border-border",children:[e.jsx(m,{asChild:!0,className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs(v,{to:`/rating-configs/${a.id}`,className:"flex items-center",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsx(m,{asChild:!0,className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs(v,{to:`/rating-configs/${a.id}/edit`,className:"flex items-center",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Edit"]})}),!a.is_active&&e.jsxs(m,{onClick:()=>N(a.id),className:"hover:bg-accent hover:text-accent-foreground",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Activate"]}),e.jsxs(m,{onClick:()=>p(a.id),className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},a.id))})]})}),we=()=>{const{ratingConfigs:r,isLoading:t,deleteRatingConfig:p,activateRatingConfig:N,fetchRatingConfigsByType:o}=V(),{searchQuery:a,setSearchQuery:b}=F(),d=async s=>{window.confirm("Are you sure you want to delete this rating configuration?")&&await p(s)},x=async s=>{await N(s)},_=async s=>{s==="all"||await o(s)},R=r.filter(s=>s.is_active).length,y=r.filter(s=>s.type==="task_rating").length,A=r.filter(s=>s.type==="stakeholder_rating").length,w=r.filter(s=>s.type==="final_rating").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Rating Configurations"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage rating system configurations"})]})]}),e.jsx(T,{asChild:!0,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:e.jsxs(v,{to:"/rating-configs/create",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"New Configuration"]})})]}),e.jsx(i,{className:"bg-card border-border",children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(L,{placeholder:"Search configurations...",value:a,onChange:s=>b(s.target.value),className:"pl-10 bg-background border-input text-foreground"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(i,{className:"bg-card border-border",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Total Configurations"}),e.jsx(ae,{className:"w-4 h-4 text-chart-1"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.length})})]}),e.jsxs(i,{className:"bg-card border-border",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),e.jsx(Z,{className:"w-4 h-4 text-green-500"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold text-foreground",children:R})})]}),e.jsxs(i,{className:"bg-card border-border",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Task Rating"}),e.jsx(ee,{className:"w-4 h-4 text-blue-500"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y})})]}),e.jsxs(i,{className:"bg-card border-border",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Final Rating"}),e.jsx(k,{className:"w-4 h-4 text-purple-500"})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold text-foreground",children:w})})]})]}),e.jsxs(P,{defaultValue:"all",className:"space-y-4",onValueChange:_,children:[e.jsxs(I,{className:"bg-muted",children:[e.jsxs(u,{value:"all",children:["All (",r.length,")"]}),e.jsxs(u,{value:"task_rating",children:["Task Rating (",y,")"]}),e.jsxs(u,{value:"stakeholder_rating",children:["Stakeholder (",A,")"]}),e.jsxs(u,{value:"final_rating",children:["Final Rating (",w,")"]})]}),e.jsx(f,{value:"all",children:e.jsx(j,{ratingConfigs:r,isLoading:t,onDelete:d,onActivate:x})}),e.jsx(f,{value:"task_rating",children:e.jsx(j,{ratingConfigs:r.filter(s=>s.type==="task_rating"),isLoading:t,onDelete:d,onActivate:x})}),e.jsx(f,{value:"stakeholder_rating",children:e.jsx(j,{ratingConfigs:r.filter(s=>s.type==="stakeholder_rating"),isLoading:t,onDelete:d,onActivate:x})}),e.jsx(f,{value:"final_rating",children:e.jsx(j,{ratingConfigs:r.filter(s=>s.type==="final_rating"),isLoading:t,onDelete:d,onActivate:x})})]})]})};export{we as default};
