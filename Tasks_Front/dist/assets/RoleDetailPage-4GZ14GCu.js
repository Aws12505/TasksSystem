import{K as f,k as v,j as e,M as m,B as n,C as a,f as r,J as x,c as i,d as t}from"./index-C2mTv9p6.js";import{B as b}from"./badge-C3XWsGTz.js";import{u as w}from"./useRole-CFG9pYbF.js";import{A as h}from"./arrow-left-DOeGH-FH.js";import{S as y}from"./square-pen-BB3m6kBT.js";import{C as j}from"./calendar-DuR6SFKa.js";import{K as p}from"./key-dh5zDO-H.js";import"./rolesStore-Dp7x0-_X.js";import"./permissionService-Br8zi0dJ.js";const _=()=>{const{id:u}=f(),{role:s,isLoading:g,error:o}=w(u),{hasPermission:c}=v(),l=s?.permissions||[];return g?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-48"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-64 mt-2"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(a,{className:"bg-card border-border",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-5 bg-muted animate-pulse rounded w-28"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-40"})]})})}),e.jsx(a,{className:"bg-card border-border",children:e.jsx(r,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((d,N)=>e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"},N))})})})]})]})}):o||!s?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:e.jsx(a,{className:"bg-card border-border",children:e.jsx(r,{className:"p-8 text-center",children:e.jsx("p",{className:"text-destructive",children:o||"Role not found"})})})})}):e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:s.name}),e.jsx("p",{className:"text-muted-foreground",children:"Role Details"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[c("edit roles")&&e.jsx(n,{asChild:!0,size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:e.jsxs(x,{to:`/roles/${s.id}/edit`,children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Edit Role"]})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(x,{to:"/roles",className:"flex items-center",children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{className:"bg-card border-border",children:[e.jsx(i,{children:e.jsxs(t,{className:"text-foreground flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Role Information"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium text-foreground",children:s.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Guard Name"}),e.jsx("p",{className:"font-medium text-foreground",children:s.guard_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),e.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),new Date(s.updated_at).toLocaleDateString()]})]})]})]}),c("view permissions")?e.jsxs(a,{className:"bg-card border-border",children:[e.jsx(i,{children:e.jsxs(t,{className:"text-foreground flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4"}),"Permissions (",l.length,")"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.length>0?l.map(d=>e.jsx("div",{className:"p-2 bg-accent/50 rounded",children:e.jsx("span",{className:"text-sm text-foreground",children:d.name})},d.id)):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No permissions assigned"})})})]}):e.jsxs(a,{className:"bg-card border-border",children:[e.jsx(i,{children:e.jsxs(t,{className:"text-foreground flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4"}),"Permissions"]})}),e.jsx(r,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"You don't have permission to view role permissions"})})]})]}),c("view permissions")&&l.length>0&&e.jsxs(a,{className:"bg-card border-border",children:[e.jsxs(i,{children:[e.jsxs(t,{className:"text-foreground",children:["All Permissions (",l.length,")"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete list of permissions assigned to this role"})]}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:l.map(d=>e.jsx(b,{variant:"secondary",className:"text-xs",children:d.name},d.id))})})]})]})})};export{_ as default};
