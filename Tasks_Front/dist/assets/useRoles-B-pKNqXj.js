import{R as h}from"./index-B85HOyWI.js";import{u as m}from"./rolesStore-DhI4etKL.js";import{u as w}from"./filtersStore-Clk9hcwu.js";const v=()=>{const{roles:r,pagination:t,isLoading:n,error:l,fetchRoles:o,createRole:c,updateRole:u,deleteRole:i}=m(),{searchQuery:p}=w();h.useEffect(()=>{r.length||o(1)},[o,r.length]);const g=async e=>await c(e),R=async(e,s)=>await u(e,s),d=async e=>await i(e),f=r.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())),a=e=>{o(e)};return{roles:f,pagination:t,isLoading:n,error:l,fetchRoles:o,createRole:g,updateRole:R,deleteRole:d,goToPage:a,nextPage:()=>{t&&t.current_page<t.last_page&&a(t.current_page+1)},prevPage:()=>{t&&t.current_page>1&&a(t.current_page-1)}}};export{v as u};
