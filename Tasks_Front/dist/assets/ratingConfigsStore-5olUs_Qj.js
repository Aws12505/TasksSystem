import{r as o}from"./ratingConfigService-j6PC4HTd.js";import{k as t,t as s}from"./index-CJetGwO1.js";const l=t((r,g)=>({ratingConfigs:[],currentRatingConfig:null,pagination:null,isLoading:!1,error:null,fetchRatingConfigs:async(n=1)=>{r({isLoading:!0,error:null});try{const e=await o.getRatingConfigs(n);e.success?r({ratingConfigs:e.data,pagination:e.pagination,isLoading:!1}):(r({error:e.message,isLoading:!1}),s.error(e.message))}catch(e){const a=e.message||"Failed to fetch rating configs";r({error:a,isLoading:!1}),s.error(a)}},fetchRatingConfig:async n=>{r({isLoading:!0,error:null});try{const e=await o.getRatingConfig(n);e.success?r({currentRatingConfig:e.data,isLoading:!1}):(r({error:e.message,isLoading:!1}),s.error(e.message))}catch(e){const a=e.message||"Failed to fetch rating config";r({error:a,isLoading:!1}),s.error(a)}},createRatingConfig:async n=>{r({isLoading:!0,error:null});try{const e=await o.createRatingConfig(n);return e.success?(r({isLoading:!1}),s.success("Rating config created successfully"),g().fetchRatingConfigs(),e.data):(r({error:e.message,isLoading:!1}),s.error(e.message),null)}catch(e){const a=e.message||"Failed to create rating config";return r({error:a,isLoading:!1}),s.error(a),null}},updateRatingConfig:async(n,e)=>{r({isLoading:!0,error:null});try{const a=await o.updateRatingConfig(n,e);return a.success?(r({currentRatingConfig:a.data,isLoading:!1}),s.success("Rating config updated successfully"),g().fetchRatingConfigs(),a.data):(r({error:a.message,isLoading:!1}),s.error(a.message),null)}catch(a){const i=a.message||"Failed to update rating config";return r({error:i,isLoading:!1}),s.error(i),null}},deleteRatingConfig:async n=>{r({isLoading:!0,error:null});try{const e=await o.deleteRatingConfig(n);return e.success?(r({isLoading:!1}),s.success("Rating config deleted successfully"),g().fetchRatingConfigs(),!0):(r({error:e.message,isLoading:!1}),s.error(e.message),!1)}catch(e){const a=e.message||"Failed to delete rating config";return r({error:a,isLoading:!1}),s.error(a),!1}},fetchRatingConfigsByType:async(n,e=1)=>{r({isLoading:!0,error:null});try{const a=await o.getRatingConfigsByType(n,e);a.success?r({ratingConfigs:a.data,pagination:a.pagination,isLoading:!1}):(r({error:a.message,isLoading:!1}),s.error(a.message))}catch(a){const i=a.message||"Failed to fetch rating configs by type";r({error:i,isLoading:!1}),s.error(i)}},activateRatingConfig:async n=>{try{const e=await o.activateRatingConfig(n);return e.success?(s.success("Rating config activated successfully"),g().currentRatingConfig?.id===n&&r({currentRatingConfig:e.data}),g().fetchRatingConfigs(),e.data):(s.error(e.message),null)}catch(e){return s.error(e.message||"Failed to activate rating config"),null}},fetchActiveRatingConfigsByType:async n=>{r({isLoading:!0,error:null});try{const e=await o.getActiveRatingConfigsByType(n);e.success?r({ratingConfigs:e.data,isLoading:!1}):(r({error:e.message,isLoading:!1}),s.error(e.message))}catch(e){const i=e?.response?.data?.message||e.message||"Failed to fetch active rating configs by type";r({error:i,isLoading:!1}),s.error(i)}},clearCurrentRatingConfig:()=>r({currentRatingConfig:null,error:null})}));export{l as u};
