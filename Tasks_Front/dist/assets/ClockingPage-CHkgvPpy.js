import{g as Q,D as H,j as n,C,c as q,d as B,f as E,B as j,ax as ie,az as ce,aA as le,aB as ue,b6 as de,V as xe,b8 as he,l as U,W as J,aH as me}from"./index-CryAUUlm.js";import{u as fe,c as T,C as W,f as we,a as pe}from"./clockingCalculations-CsAgw71b.js";import{u as be,a as ye,b as ge,c as ke}from"./useClockingTimers-zDoNrwMf.js";import{L as Ne}from"./label-CTcjgvxH.js";import{B as O}from"./badge-BXnqHSvb.js";import{P as ve}from"./play-CAq_jETj.js";import{C as z}from"./calendar-C_CMVuF6.js";import{C as je}from"./circle-alert-CTUKtcnl.js";import{t as v,c as N,a as S,d as Te,h as _e,i as De,j as Pe,s as L,k as ee,l as Me,o as Ce,g as te,e as Ee,p as V,q as Oe,w as Z,r as Ie,f as Ye}from"./format-C-V0FnqD.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qe=Q("hash",He);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Le=Q("log-in",Be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K=Q("log-out",Qe);function re(s,e,t){const r=v(s,t?.in);return isNaN(e)?N(t?.in||s,NaN):(e&&r.setDate(r.getDate()+e),r)}function We(){return Object.assign({},S())}function Ae(s,e){const t=v(s,e?.in).getDay();return t===0?7:t}function Fe(s,e){const t=Re(e)?new e(0):N(e,0);return t.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),t.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),t}function Re(s){return typeof s=="function"&&s.prototype?.constructor===s}const Ge=10;class se{subPriority=0;validate(e,t){return!0}}class Xe extends se{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class $e extends se{priority=Ge;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>N(t,r))}set(e,t){return t.timestampIsSet?e:N(e,Fe(e,this.context))}}class c{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new Xe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class ze extends c{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const h={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},g={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function m(s,e){return s&&{value:e(s.value),rest:s.rest}}function u(s,e){const t=e.match(s);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function k(s,e){const t=e.match(s);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*Te+o*_e+l*De),rest:e.slice(t[0].length)}}function ne(s){return u(h.anyDigitsSigned,s)}function x(s,e){switch(s){case 1:return u(h.singleDigit,e);case 2:return u(h.twoDigits,e);case 3:return u(h.threeDigits,e);case 4:return u(h.fourDigits,e);default:return u(new RegExp("^\\d{1,"+s+"}"),e)}}function I(s,e){switch(s){case 1:return u(h.singleDigitSigned,e);case 2:return u(h.twoDigitsSigned,e);case 3:return u(h.threeDigitsSigned,e);case 4:return u(h.fourDigitsSigned,e);default:return u(new RegExp("^-?\\d{1,"+s+"}"),e)}}function A(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ae(s,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=s||100;else{const o=r+50,l=Math.trunc(o/100)*100,f=s>=o%100;a=s+l-(f?100:0)}return t?a:1-a}function oe(s){return s%400===0||s%4===0&&s%100!==0}class Ve extends c{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return m(x(4,e),a);case"yo":return m(r.ordinalNumber(e,{unit:"year"}),a);default:return m(x(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=ae(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class Ze extends c{priority=130;parse(e,t,r){const a=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return m(x(4,e),a);case"Yo":return m(r.ordinalNumber(e,{unit:"year"}),a);default:return m(x(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const o=Pe(e,a);if(r.isTwoDigitYear){const f=ae(r.year,o);return e.setFullYear(f,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),L(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),L(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Ke extends c{priority=130;parse(e,t){return I(t==="R"?4:t.length,e)}set(e,t,r){const a=N(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),ee(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Ue extends c{priority=130;parse(e,t){return I(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Je extends c{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return x(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Se extends c{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return x(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class et extends c{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=o=>o-1;switch(t){case"M":return m(u(h.month,e),a);case"MM":return m(x(2,e),a);case"Mo":return m(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class tt extends c{priority=110;parse(e,t,r){const a=o=>o-1;switch(t){case"L":return m(u(h.month,e),a);case"LL":return m(x(2,e),a);case"Lo":return m(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function rt(s,e,t){const r=v(s,t?.in),a=Me(r,t)-e;return r.setDate(r.getDate()-a*7),v(r,t?.in)}class st extends c{priority=100;parse(e,t,r){switch(t){case"w":return u(h.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return L(rt(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function nt(s,e,t){const r=v(s,t?.in),a=Ce(r,t)-e;return r.setDate(r.getDate()-a*7),r}class at extends c{priority=100;parse(e,t,r){switch(t){case"I":return u(h.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return ee(nt(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ot=[31,28,31,30,31,30,31,31,30,31,30,31],it=[31,29,31,30,31,30,31,31,30,31,30,31];class ct extends c{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return u(h.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=oe(r),o=e.getMonth();return a?t>=1&&t<=it[o]:t>=1&&t<=ot[o]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class lt extends c{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return u(h.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const r=e.getFullYear();return oe(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function F(s,e,t){const r=S(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=v(s,t?.in),l=o.getDay(),p=(e%7+7)%7,w=7-a,b=e<0||e>6?e-(l+w)%7:(p+w)%7-(l+w)%7;return re(o,b,t)}class ut extends c{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=F(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class dt extends c{priority=90;parse(e,t,r,a){const o=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return m(x(t.length,e),o);case"eo":return m(r.ordinalNumber(e,{unit:"day"}),o);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=F(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class xt extends c{priority=90;parse(e,t,r,a){const o=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return m(x(t.length,e),o);case"co":return m(r.ordinalNumber(e,{unit:"day"}),o);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=F(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ht(s,e,t){const r=v(s,t?.in),a=Ae(r,t),o=e-a;return re(r,o,t)}class mt extends c{priority=90;parse(e,t,r){const a=o=>o===0?7:o;switch(t){case"i":case"ii":return x(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return m(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return m(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return m(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return m(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=ht(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class ft extends c{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(A(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class wt extends c{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(A(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class pt extends c{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(A(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class bt extends c{priority=70;parse(e,t,r){switch(t){case"h":return u(h.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class yt extends c{priority=70;parse(e,t,r){switch(t){case"H":return u(h.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class gt extends c{priority=70;parse(e,t,r){switch(t){case"K":return u(h.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class kt extends c{priority=70;parse(e,t,r){switch(t){case"k":return u(h.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Nt extends c{priority=60;parse(e,t,r){switch(t){case"m":return u(h.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class vt extends c{priority=50;parse(e,t,r){switch(t){case"s":return u(h.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class jt extends c{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return m(x(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Tt extends c{priority=10;parse(e,t){switch(t){case"X":return k(g.basicOptionalMinutes,e);case"XX":return k(g.basic,e);case"XXXX":return k(g.basicOptionalSeconds,e);case"XXXXX":return k(g.extendedOptionalSeconds,e);case"XXX":default:return k(g.extended,e)}}set(e,t,r){return t.timestampIsSet?e:N(e,e.getTime()-te(e)-r)}incompatibleTokens=["t","T","x"]}class _t extends c{priority=10;parse(e,t){switch(t){case"x":return k(g.basicOptionalMinutes,e);case"xx":return k(g.basic,e);case"xxxx":return k(g.basicOptionalSeconds,e);case"xxxxx":return k(g.extendedOptionalSeconds,e);case"xxx":default:return k(g.extended,e)}}set(e,t,r){return t.timestampIsSet?e:N(e,e.getTime()-te(e)-r)}incompatibleTokens=["t","T","X"]}class Dt extends c{priority=40;parse(e){return ne(e)}set(e,t,r){return[N(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Pt extends c{priority=20;parse(e){return ne(e)}set(e,t,r){return[N(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Mt={G:new ze,y:new Ve,Y:new Ze,R:new Ke,u:new Ue,Q:new Je,q:new Se,M:new et,L:new tt,w:new st,I:new at,d:new ct,D:new lt,E:new ut,e:new dt,c:new xt,i:new mt,a:new ft,b:new wt,B:new pt,h:new bt,H:new yt,K:new gt,k:new kt,m:new Nt,s:new vt,S:new jt,X:new Tt,x:new _t,t:new Dt,T:new Pt},Ct=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Et=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ot=/^'([^]*?)'?$/,It=/''/g,Yt=/\S/,Ht=/[a-zA-Z]/;function qt(s,e,t,r){const a=()=>N(t,NaN),o=We(),l=o.locale??Ee,f=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,w={firstWeekContainsDate:f,weekStartsOn:p,locale:l},b=[new $e(r?.in,t)],P=e.match(Et).map(i=>{const d=i[0];if(d in V){const y=V[d];return y(i,l.formatLong)}return i}).join("").match(Ct),_=[];for(let i of P){Oe(i)&&Z(i,e,s),Ie(i)&&Z(i,e,s);const d=i[0],y=Mt[d];if(y){const{incompatibleTokens:G}=y;if(Array.isArray(G)){const X=_.find($=>G.includes($.token)||$.token===d);if(X)throw new RangeError(`The format string mustn't contain \`${X.fullToken}\` and \`${i}\` at the same time`)}else if(y.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${i}\` and any other token at the same time`);_.push({token:d,fullToken:i});const Y=y.run(s,i,l.match,w);if(!Y)return a();b.push(Y.setter),s=Y.rest}else{if(d.match(Ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");if(i==="''"?i="'":d==="'"&&(i=Bt(i)),s.indexOf(i)===0)s=s.slice(i.length);else return a()}}if(s.length>0&&Yt.test(s))return a();const M=b.map(i=>i.priority).sort((i,d)=>d-i).filter((i,d,y)=>y.indexOf(i)===d).map(i=>b.filter(d=>d.priority===i).sort((d,y)=>y.subPriority-d.subPriority)).map(i=>i[0]);let D=v(t,r?.in);if(isNaN(+D))return a();const R={};for(const i of M){if(!i.validate(D,w))return a();const d=i.set(D,R,w);Array.isArray(d)?(D=d[0],Object.assign(R,d[1])):D=d}return D}function Bt(s){return s.match(Ot)[1].replace(It,"'")}const Lt=()=>{const{session:s,companyTimezone:e,isLoading:t,error:r,fetchInitialData:a,clockIn:o,clockOut:l,startBreak:f,endBreak:p,clearError:w}=fe();return H.useEffect(()=>{a()},[a]),{session:s,companyTimezone:e,isLoading:t,error:r,clockIn:o,clockOut:l,startBreak:f,endBreak:p,refresh:a,clearError:w}},Qt=({session:s,companyTimezone:e,isLoading:t,onClockIn:r,onClockOut:a,onStartBreak:o,onEndBreak:l})=>{const[f,p]=H.useState(!1),[w,b]=H.useState(""),P=()=>{l(w.trim()||void 0),b(""),p(!1)},_=s?.break_records?.find(M=>M.status==="active");return n.jsxs(n.Fragment,{children:[n.jsxs(C,{className:"bg-card border-border",children:[n.jsx(q,{className:"bg-accent",children:n.jsx(B,{className:"text-foreground text-xl",children:"Time Clock"})}),n.jsxs(E,{className:"pt-6 space-y-6",children:[s&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Clocked in at"}),n.jsx("p",{className:"text-lg font-bold text-foreground",children:T(s.clock_in_utc,e).split(", ")[1]})]}),n.jsx(O,{className:s.status==="active"?"bg-chart-3 text-white":"bg-chart-2 text-white",children:s.status==="active"?"Working":"On Break"})]}),_&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Break started at"}),n.jsx("p",{className:"text-lg font-bold text-chart-2",children:T(_.break_start_utc,e).split(", ")[1]})]})})]}),n.jsx("div",{className:"space-y-3",children:s?s.status==="active"?n.jsxs("div",{className:"space-y-2",children:[n.jsxs(j,{onClick:o,disabled:t,variant:"outline",className:"w-full h-12 border-chart-2 text-chart-2 hover:bg-accent",children:[n.jsx(W,{className:"w-5 h-5 mr-2"}),"Start Break"]}),n.jsxs(j,{onClick:a,disabled:t,className:"w-full h-12 bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[n.jsx(K,{className:"w-5 h-5 mr-2"}),"Clock Out"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs(j,{onClick:()=>p(!0),disabled:t,className:"w-full h-12 bg-primary text-primary-foreground hover:bg-primary/90",children:[n.jsx(ve,{className:"w-5 h-5 mr-2"}),"End Break & Resume Work"]}),n.jsxs(j,{onClick:a,disabled:t,variant:"outline",className:"w-full h-12",children:[n.jsx(K,{className:"w-5 h-5 mr-2"}),"End Break & Clock Out"]})]}):n.jsxs(j,{onClick:r,disabled:t,className:"w-full h-16 text-lg bg-primary text-primary-foreground hover:bg-primary/90",size:"lg",children:[n.jsx(Le,{className:"w-6 h-6 mr-2"}),"Clock In"]})})]})]}),n.jsx(ie,{open:f,onOpenChange:p,children:n.jsxs(ce,{className:"bg-card border-border",children:[n.jsxs(le,{children:[n.jsx(ue,{className:"text-foreground",children:"End Break"}),n.jsx(de,{className:"text-muted-foreground",children:"Add an optional description for this break"})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(Ne,{htmlFor:"description",className:"text-foreground",children:"Description (Optional)"}),n.jsx(xe,{id:"description",placeholder:"e.g., Lunch break, Coffee break...",value:w,onChange:M=>b(M.target.value),rows:3,maxLength:255,disabled:t,className:"mt-2 bg-background border-input text-foreground"})]}),n.jsxs(he,{children:[n.jsx(j,{variant:"outline",onClick:()=>{b(""),p(!1)},disabled:t,className:"border-input",children:"Cancel"}),n.jsx(j,{onClick:P,disabled:t,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:t?"Ending...":"End Break"})]})]})})]})},Wt=({session:s})=>{const e=be(s?.clock_in_utc||null,s?.clock_out_utc||null,s?.break_records||[],s?.status||null),t=ye(s?.break_records||[],s?.status||null),r=[{label:"Work Time",value:e,icon:U,color:"text-chart-3",bgColor:"bg-accent",isActive:s?.status==="active"},{label:"Break Time",value:t,icon:W,color:"text-chart-2",bgColor:"bg-accent",isActive:s?.status==="on_break"},{label:"Breaks Today",value:s?.break_records?.length||0,icon:qe,color:"text-chart-5",bgColor:"bg-accent",isActive:!1}];return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(a=>{const o=a.icon;return n.jsx(C,{className:`bg-card border-border ${a.isActive?"ring-2 ring-ring":""}`,children:n.jsxs(E,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a.label}),n.jsx("div",{className:`p-2 rounded-full ${a.bgColor}`,children:n.jsx(o,{className:`w-5 h-5 ${a.color}`})})]}),n.jsx("div",{className:"text-3xl font-bold text-foreground font-mono tabular-nums",children:a.value}),a.isActive&&n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n.jsxs("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-ring opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-ring"})]}),n.jsx("span",{className:"text-xs text-ring font-medium",children:"Running"})]})]})},a.label)})})},At=me("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ft({className:s,variant:e,...t}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:J(At({variant:e}),s),...t})}function Rt({className:s,...e}){return n.jsx("div",{"data-slot":"alert-description",className:J("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...e})}const Gt=({session:s,companyTimezone:e})=>s?n.jsxs(C,{className:"bg-card border-border",children:[n.jsx(q,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(B,{className:"flex items-center gap-2 text-foreground",children:[n.jsx(z,{className:"w-5 h-5"}),"Today's Session"]}),n.jsx(O,{variant:s.status==="completed"?"secondary":"default",children:s.status==="completed"?"Completed":"In Progress"})]})}),n.jsxs(E,{className:"space-y-4",children:[s.crosses_midnight&&n.jsxs(Ft,{children:[n.jsx(je,{className:"h-4 w-4"}),n.jsx(Rt,{children:"This session crossed midnight"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clock In"}),n.jsx("p",{className:"font-medium text-foreground",children:T(s.clock_in_utc,e).split(", ")[1]})]}),s.clock_out_utc&&n.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clock Out"}),n.jsx("p",{className:"font-medium text-foreground",children:T(s.clock_out_utc,e).split(", ")[1]})]})]}),s.break_records&&s.break_records.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[n.jsx(W,{className:"w-4 h-4"}),"Breaks (",s.break_records.length,")"]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.break_records.map((t,r)=>n.jsx(Xt,{breakRecord:t,index:r,companyTimezone:e},t.id))})]})]})]}):n.jsxs(C,{className:"bg-card border-border",children:[n.jsx(q,{children:n.jsxs(B,{className:"flex items-center gap-2 text-foreground",children:[n.jsx(z,{className:"w-5 h-5"}),"Today's Session"]})}),n.jsx(E,{children:n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No session for today. Clock in to start tracking."})})]}),Xt=({breakRecord:s,index:e,companyTimezone:t})=>{const r=ge(s.break_start_utc,s.break_end_utc,s.status==="active"),a=s.status==="completed"?we(pe(s.break_start_utc,s.break_end_utc)):null;return n.jsx("div",{className:`p-4 rounded-lg border-2 ${s.status==="active"?"bg-accent border-chart-2/20":"bg-accent border-border"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(O,{variant:"outline",className:"text-xs",children:["Break ",e+1]}),s.status==="active"&&n.jsx(O,{className:"text-xs bg-chart-2 text-white",children:"Active"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T(s.break_start_utc,t).split(", ")[1],s.break_end_utc&&n.jsxs(n.Fragment,{children:[" â†’ ",T(s.break_end_utc,t).split(", ")[1]]})]}),s.description&&n.jsx("p",{className:"text-sm text-foreground mt-2",children:s.description})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"text-xl font-bold text-foreground font-mono tabular-nums",children:s.status==="active"?r:a})})]})})},tr=()=>{const{session:s,companyTimezone:e,isLoading:t,clockIn:r,clockOut:a,startBreak:o,endBreak:l}=Lt(),f=ke(),p=T(f.toISOString(),e??"UTC"),[w,b]=p.split(", "),P=w?Ye(qt(w,"MM/dd/yyyy",new Date),"EEEE, MMMM d, yyyy"):"";return n.jsx("div",{className:"min-h-screen flex flex-col",children:n.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(U,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Time Clock"}),n.jsx("p",{className:"text-muted-foreground",children:"Track your work hours and breaks"})]})]})}),n.jsx(C,{className:"bg-card border-border",children:n.jsx(E,{className:"p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-6xl font-bold text-foreground font-mono tabular-nums mb-2",children:[b??p," "]}),n.jsx("div",{className:"text-xl text-muted-foreground",children:P||w})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Qt,{session:s,companyTimezone:e,isLoading:t,onClockIn:r,onClockOut:a,onStartBreak:o,onEndBreak:l})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Wt,{session:s}),n.jsx(Gt,{session:s,companyTimezone:e})]})]})]})})};export{tr as default};
