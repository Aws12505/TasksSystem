import{z as p,q as f,j as e,B as c,y as m,A as x}from"./index-BtSm9GAx.js";import{C as t,a as d,b as i,d as l}from"./card-DiBnygtK.js";import{B as N}from"./badge-CQGa5WH8.js";import{u as v}from"./useRole-BdC6lZ7O.js";import{A as b}from"./arrow-left-CY_yY7P8.js";import{S as w}from"./square-pen-C_0X-HqN.js";import{C as h}from"./calendar-B7mS-m32.js";import{K as g}from"./key-a5rElCFK.js";import"./rolesStore-Cu3PQ3Ci.js";import"./permissionService-kfaNJTdi.js";const k=()=>{const{id:j}=p(),{role:s,isLoading:u,error:o}=v(j),{hasPermission:n}=f();if(u)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-48"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"}),e.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"})]})]});if(o||!s)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:o||"Role not found"})});const r=s.permissions||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(m,{to:"/roles",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground font-sans",children:s.name}),e.jsx("p",{className:"text-muted-foreground",children:"Role Details"})]})]})]}),n("edit roles")&&e.jsx(c,{asChild:!0,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:e.jsxs(m,{to:`/roles/${s.id}/edit`,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Edit Role"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"bg-card border-border",children:[e.jsx(d,{children:e.jsxs(i,{className:"text-foreground flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Role Information"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium text-foreground",children:s.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Guard Name"}),e.jsx("p",{className:"font-medium text-foreground",children:s.guard_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),e.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),new Date(s.updated_at).toLocaleDateString()]})]})]})]}),n("view permissions")?e.jsxs(t,{className:"bg-card border-border",children:[e.jsx(d,{children:e.jsxs(i,{className:"text-foreground flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),"Permissions (",r.length,")"]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.length>0?r.map(a=>e.jsx("div",{className:"p-2 bg-accent/50 rounded",children:e.jsx("span",{className:"text-sm text-foreground",children:a.name})},a.id)):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No permissions assigned"})})})]}):e.jsxs(t,{className:"bg-card border-border",children:[e.jsx(d,{children:e.jsxs(i,{className:"text-foreground flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),"Permissions"]})}),e.jsx(l,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"You don't have permission to view role permissions"})})]})]}),n("view permissions")&&r.length>0&&e.jsxs(t,{className:"bg-card border-border",children:[e.jsxs(d,{children:[e.jsxs(i,{className:"text-foreground",children:["All Permissions (",r.length,")"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete list of permissions assigned to this role"})]}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:r.map(a=>e.jsx(N,{variant:"secondary",className:"text-xs",children:a.name},a.id))})})]})]})};export{k as default};
