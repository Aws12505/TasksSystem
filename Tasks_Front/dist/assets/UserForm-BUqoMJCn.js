import{a as b,b as h,o as p,j as e,I as n,B as N,L as w,s as r,N as g}from"./index-C2mTv9p6.js";import{F as f,a as l,b as d,c,d as i,e as x}from"./form-DJDRbeo4.js";const F=p({name:r().min(1,"Name is required").max(255),email:r().email("Invalid email address").max(255),password:r().min(8,"Password must be at least 8 characters")}),y=p({name:r().min(1,"Name is required").max(255),email:r().email("Invalid email address").max(255),password:r().min(8,"Password must be at least 8 characters").optional().or(g(""))}),U=({user:m,onSubmit:u,isLoading:a})=>{const t=!!m,o=b({resolver:h(t?y:F),defaultValues:{name:m?.name||"",email:m?.email||"",password:""}}),j=async s=>{t&&(!s.password||s.password==="")&&delete s.password,await u(s)};return e.jsx(f,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(j),className:"space-y-6",children:[e.jsx(l,{control:o.control,name:"name",render:({field:s})=>e.jsxs(d,{children:[e.jsx(c,{className:"text-foreground",children:"Name"}),e.jsx(i,{children:e.jsx(n,{placeholder:"Enter user name",...s,disabled:a,className:"bg-background border-input text-foreground"})}),e.jsx(x,{className:"text-destructive"})]})}),e.jsx(l,{control:o.control,name:"email",render:({field:s})=>e.jsxs(d,{children:[e.jsx(c,{className:"text-foreground",children:"Email"}),e.jsx(i,{children:e.jsx(n,{type:"email",placeholder:"Enter email address",...s,disabled:a,className:"bg-background border-input text-foreground"})}),e.jsx(x,{className:"text-destructive"})]})}),e.jsx(l,{control:o.control,name:"password",render:({field:s})=>e.jsxs(d,{children:[e.jsxs(c,{className:"text-foreground",children:["Password ",t&&e.jsx("span",{className:"text-muted-foreground text-sm",children:"(leave empty to keep current)"})]}),e.jsx(i,{children:e.jsx(n,{type:"password",placeholder:t?"Enter new password":"Enter password",...s,disabled:a,className:"bg-background border-input text-foreground"})}),e.jsx(x,{className:"text-destructive"})]})}),e.jsxs(N,{type:"submit",disabled:a,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a&&e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update User":"Create User"]})]})})};export{U};
