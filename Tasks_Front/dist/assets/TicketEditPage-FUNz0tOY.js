import{K as j,n as N,z as g,j as e,T as i,C as r,c,d,f as l,B as v,J as k}from"./index-Y4t2xSJ4.js";import{u as T}from"./useTicket-yuHOvxcT.js";import{u as b}from"./useTickets-2S8j3ALf.js";import{u as w}from"./ticketsStore-BwsPCSNW.js";import{T as y}from"./TicketForm-DpeBZRNt.js";import{A as C}from"./arrow-left-DJ8tHedZ.js";import"./filtersStore-n0Dx8KRd.js";import"./form-DN0TJIlY.js";import"./label-CFqQSNl7.js";const $=()=>{const{id:t}=j(),n=N(),{ticket:s,availableUsers:m,isLoading:o,error:a}=T(t),{updateTicket:x}=b(),{getTypeOptions:u}=w(),{isAuthenticated:p}=g(),f=async h=>{if(!s)return;await x(s.id,h)&&n(`/tickets/${s.id}`)};return o?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(i,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded w-48"}),e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-64 mt-2"})]})]}),e.jsx("div",{className:"h-9 bg-muted animate-pulse rounded w-36"})]}),e.jsxs(r,{className:"bg-card border-border",children:[e.jsx(c,{children:e.jsx(d,{className:"text-foreground",children:"Ticket Information"})}),e.jsx(l,{children:e.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})})]})]})}):a||!s?e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:a||"Ticket not found"})})})}):e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 max-w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(i,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground font-sans",children:"Edit Ticket"}),e.jsxs("p",{className:"text-muted-foreground",children:["Update ",s.title]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(v,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(k,{to:`/tickets/${t}`,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Back to Ticket"]})})})]}),e.jsxs(r,{className:"bg-card border-border",children:[e.jsx(c,{children:e.jsx(d,{className:"text-foreground",children:"Ticket Information"})}),e.jsx(l,{children:e.jsx(y,{ticket:s,availableUsers:m,typeOptions:u(),onSubmit:f,isLoading:!1,isAuthenticated:p})})]})]})})};export{$ as default};
