import{g as J,R as b,j as e,L as He,a2 as ce,G as Pe,H as ze,J as Ie,B as p,a3 as ue,aP as Oe,ag as Fe,aD as ve,aF as ke,aG as we,aH as _e,z as le,bj as ye,E as We,C as R,f as E,bk as Ue,bl as Ce,a8 as z,I as qe,bB as Ve,bC as Ke,bD as Ge,au as Le}from"./index-DGKWiW23.js";import{T as Je,a as Ye,b as he,c as C,d as Qe,e as S}from"./table-BoIYYFvW.js";import{B as O}from"./badge-B-0Jsbei.js";import{d as fe,e as te,g as pe,c as H,f as P,C as G}from"./clockingCalculations-f9JKGMrA.js";import{C as je}from"./circle-alert-2CvJAJp7.js";import{U as Xe}from"./user-BziXo3IO.js";import{P as Ne}from"./play-GcrRSyk3.js";import{L as ne}from"./label-3-GGM7xQ.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fs=J("download",Ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ss=J("rotate-ccw",es);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ge=J("settings-2",ts);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],be=J("square",rs),ps=({records:t,companyTimezone:a,pagination:l,showUser:d=!1,onPageChange:o,isLoading:x=!1,onCorrectionClick:j})=>{const[u,m]=b.useState(!1),[c,i]=b.useState(null);return!t.length&&!x?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No records found"})}):x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(He,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg border border-border bg-card",children:e.jsxs(ce,{className:"w-full",children:[e.jsxs(Je,{children:[e.jsx(Ye,{children:e.jsxs(he,{className:"bg-accent",children:[d&&e.jsx(C,{className:"text-foreground",children:"Employee"}),e.jsx(C,{className:"text-foreground",children:"Date"}),e.jsx(C,{className:"text-foreground",children:"Clock In"}),e.jsx(C,{className:"text-foreground",children:"Clock Out"}),e.jsx(C,{className:"text-foreground",children:"Work Time"}),e.jsx(C,{className:"text-foreground",children:"Break Time"}),e.jsx(C,{className:"text-foreground",children:"Breaks"}),e.jsx(C,{className:"text-foreground",children:"Status"}),e.jsx(C,{className:"text-foreground",children:"Action"})]})}),e.jsx(Qe,{children:t.map(r=>{const w=fe(r.clock_in_utc,r.clock_out_utc,r.break_records),$=te(r.break_records);return e.jsxs(he,{className:"border-border hover:bg-accent/50 cursor-pointer",onClick:()=>{i(r),m(!0)},children:[d&&e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Pe,{className:"h-8 w-8",children:[e.jsx(ze,{src:r.user.avatar_url||void 0}),e.jsx(Ie,{className:"bg-primary text-primary-foreground",children:r.user.name.split(" ").map(h=>h[0]).join("").toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:r.user.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.user.email})]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:pe({sessionDate:r.session_date,companyTimezone:a,utcFallback:r.clock_in_utc,locale:"en-US"})}),r.crosses_midnight&&e.jsx(je,{className:"w-4 h-4 text-chart-2"})]})}),e.jsx(S,{className:"text-foreground",children:H(r.clock_in_utc,a).split(", ")[1]}),e.jsx(S,{className:"text-foreground",children:r.clock_out_utc?H(r.clock_out_utc,a).split(", ")[1]:"—"}),e.jsx(S,{children:e.jsx("span",{className:"font-bold text-chart-3 font-mono tabular-nums",children:P(w)})}),e.jsx(S,{children:e.jsx("span",{className:"font-bold text-chart-2 font-mono tabular-nums",children:P($)})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:r.break_records?.length||0})]})}),e.jsx(S,{children:e.jsx(O,{variant:r.status==="completed"?"secondary":r.status==="active"?"default":"outline",children:r.status==="completed"?"Completed":r.status==="active"?"Active":"On Break"})}),e.jsx(S,{onClick:h=>h.stopPropagation(),children:e.jsxs(p,{size:"sm",variant:"outline",className:"border-input text-xs",onClick:()=>j?.(r),children:[e.jsx(ge,{className:"w-4 h-4 mr-1"}),"Correct"]})})]},r.id)})})]}),e.jsx(ue,{orientation:"horizontal"})]})}),l&&l.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.from||0," to ",l.to||0," of ",l.total," records"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>o?.(l.current_page-1),disabled:l.current_page===1,className:"border-input",children:[e.jsx(Oe,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("span",{className:"text-sm px-4 text-foreground",children:["Page ",l.current_page," of ",l.last_page]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>o?.(l.current_page+1),disabled:l.current_page===l.last_page,className:"border-input",children:["Next",e.jsx(Fe,{className:"w-4 h-4"})]})]})]}),e.jsx(ve,{open:u,onOpenChange:m,children:e.jsxs(ke,{className:"bg-card border-border text-foreground w-[95vw] max-w-4xl p-0 overflow-hidden",children:[e.jsx(we,{className:"sticky top-0 z-20 bg-gradient-to-r from-card to-accent/30 border-b border-border px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_e,{className:"flex items-center gap-2 text-xl",children:[e.jsx(le,{className:"w-5 h-5 text-chart-1"}),"Session Details"]}),e.jsx(ye,{className:"text-muted-foreground mt-1",children:c&&e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"w-4 h-4"}),pe({sessionDate:c.session_date,companyTimezone:a,utcFallback:c.clock_in_utc,locale:"en-US"})]}),c.crosses_midnight&&e.jsxs(O,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(je,{className:"w-3 h-3"}),"Crossed midnight"]}),d&&c.user&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),c.user.name]})]})})]}),e.jsx(O,{variant:c?.status==="completed"?"secondary":c?.status==="active"?"default":"outline",className:"text-sm px-3 py-1",children:c?.status==="completed"?"Completed":c?.status==="active"?"Active":"On Break"})]})}),e.jsxs(ce,{className:"max-h-[70vh]",children:[e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[c&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(R,{className:"bg-accent/50 border-border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(Ne,{className:"w-4 h-4 text-chart-1"}),"Clock In"]}),e.jsx("div",{className:"font-medium text-sm",children:H(c.clock_in_utc,a)})]})}),e.jsx(R,{className:"bg-accent/50 border-border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(be,{className:"w-4 h-4 text-chart-2"}),"Clock Out"]}),e.jsx("div",{className:"font-medium text-sm",children:c.clock_out_utc?H(c.clock_out_utc,a):"—"})]})}),e.jsx(R,{className:"bg-accent/50 border-border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(le,{className:"w-4 h-4 text-chart-3"}),"Work Time"]}),e.jsx("div",{className:"font-mono tabular-nums font-medium text-chart-3",children:P(fe(c.clock_in_utc,c.clock_out_utc,c.break_records))})]})}),e.jsx(R,{className:"bg-accent/50 border-border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(G,{className:"w-4 h-4 text-chart-2"}),"Break Time"]}),e.jsx("div",{className:"font-mono tabular-nums font-medium text-chart-2",children:P(te(c.break_records))})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-chart-2"}),"Breaks",e.jsx(O,{variant:"secondary",className:"ml-2",children:c?.break_records?.length||0})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",P(te(c?.break_records||[]))]})]}),c?.break_records?.length?e.jsx("div",{className:"space-y-3",children:c.break_records.map((r,w)=>{const $=H(r.break_start_utc,a).split(", ")[1],h=r.break_end_utc?H(r.break_end_utc,a).split(", ")[1]:null,A=r.break_end_utc?Math.max(0,Math.floor((new Date(r.break_end_utc).getTime()-new Date(r.break_start_utc).getTime())/1e3)):0,N=r.status==="active";return e.jsx(R,{className:`border-l-4 ${N?"border-l-chart-2 bg-chart-2/5":"border-l-chart-1 bg-accent"} transition-all duration-200 hover:shadow-md`,children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${N?"bg-chart-2 animate-pulse":"bg-chart-1"}`}),e.jsxs("div",{className:"font-medium",children:["Break ",w+1]}),N&&e.jsx(O,{variant:"default",className:"bg-chart-2 text-white",children:"Active"})]}),!N&&e.jsx("div",{className:"font-mono tabular-nums font-semibold text-chart-1",children:P(A)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-chart-1"}),e.jsx("span",{className:"text-muted-foreground",children:"Start:"}),e.jsx("span",{className:"font-medium",children:$})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-chart-2"}),e.jsx("span",{className:"text-muted-foreground",children:"End:"}),e.jsx("span",{className:"font-medium",children:h??"—"})]})]}),r.description&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Ue,{className:"my-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-muted-foreground min-w-12",children:"Notes:"}),e.jsx("span",{className:"text-foreground bg-accent px-3 py-2 rounded-md border border-border flex-1",children:r.description})]})]})]})]})},r.id)})}):e.jsx(R,{className:"border-border bg-accent/50",children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx(G,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No breaks recorded for this session"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All breaks will appear here when taken"})]})})]})]}),e.jsx(ue,{orientation:"horizontal"})]}),e.jsx(Ce,{className:"sticky bottom-0 z-20 bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/70 border-t border-border px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Timezone: ",a]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{variant:"outline",className:"border-input",onClick:()=>m(!1),children:"Close"}),j&&c&&e.jsxs(p,{variant:"default",onClick:()=>{m(!1),j(c)},children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Correct Session"]})]})]})})]})})]})},v=t=>String(t).padStart(2,"0"),k=(t,a,l)=>Math.max(a,Math.min(l,t)),re=(t,a=0)=>Array.from({length:t},(l,d)=>d+a),Se=t=>!!t&&(t.includes("hh")||t.includes("aa")),$e=t=>!!t&&t.includes(":ss"),as=(t,a)=>`${v(t.h)}:${v(t.m)}${a?`:${v(t.s)}`:""}`,L=(t,a)=>{if(!t)return"";const l=Se(a),d=$e(a);if(!l)return`${v(t.h)}:${v(t.m)}${d?`:${v(t.s)}`:""}`;const o=t.h<12,x=t.h%12===0?12:t.h%12;return`${v(x)}:${v(t.m)}${d?`:${v(t.s)}`:""} ${o?"AM":"PM"}`};function ae(t){if(!t)return null;const a=t.match(/^(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(!a)return null;const l=k(+a[1],0,23),d=k(+a[2],0,59),o=a[3]?k(+a[3],0,59):0;return{h:l,m:d,s:o}}function cs(t,a,l){const d=t.trim().toLowerCase();if(!d)return null;const o=d.match(/\b(am|pm)\b/)?.[1];let x=d.replace(/\b(am|pm)\b/g,"").replace(/[.,]/g,":").replace(/\s+/g," ").trim();if(/^\d{3,6}$/.test(x)){const i=x;i.length===3?x=`${i[0]}:${i.slice(1)}`:i.length===4?x=`${i.slice(0,2)}:${i.slice(2)}`:i.length===5?x=`${i[0]}:${i.slice(1,3)}:${i.slice(3)}`:x=`${i.slice(0,2)}:${i.slice(2,4)}:${i.slice(4)}`}const j=x.split(/[:\s]/).filter(Boolean).map(Number).filter(i=>!Number.isNaN(i));if(!j.length)return null;let[u,m=0,c=0]=j;if(a||o){u=k(u,1,12);let i=u%12;o==="pm"&&(i+=12),u=i}return u=k(u,0,23),m=k(m,0,59),c=k(c,0,59),l||(c=0),{h:u,m,s:c}}function ls({id:t="time",name:a,value:l,onChange:d,format:o="HH:mm",placeholder:x="Select time",label:j,disabled:u,readOnly:m,required:c,className:i,defaultValue:r,autoCloseOnApply:w=!0,onOpenChange:$}){const[h,A]=b.useState(!1),N=Se(o),_=$e(o),F=b.useMemo(()=>ae(l)??ae(r)??null,[]),[n,I]=b.useState(F),[W,B]=b.useState(L(F,o)),oe=b.useRef(null),ie=b.useRef(null),de=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{const s=ae(l);I(s),B(L(s,o))},[l,o]);const U=s=>{A(s),$?.(s),s&&(y.current=null)},M=s=>{I(s),B(L(s,o)),d?.(s?as(s,_):"")},Y=s=>{y.current="h",M({h:k(s,0,23),m:n?.m??0,s:n?.s??0})},De=s=>{y.current="m",M({h:n?.h??0,m:k(s,0,59),s:n?.s??0})},Te=s=>{y.current="s",M({h:n?.h??0,m:n?.m??0,s:k(s,0,59)})},Q=N?re(12,1):re(24,0),q=re(60,0),X=q,Z=n?n.h<12:!0,Ae=n?N?n.h%12===0?12:n.h%12:n.h:N?12:0,Be=s=>{B(s);const f=cs(s,N,_);if(f){const g=n;g&&f.h!==g.h?y.current="h":g&&f.m!==g.m?y.current="m":g&&f.s!==g.s&&(y.current="s"),M(f)}},Me=s=>{switch(s.key){case"ArrowDown":case"ArrowUp":s.preventDefault(),U(!0);break;case"Escape":U(!1);break;case"Enter":s.preventDefault(),w&&U(!1);break}},me=s=>s?.querySelector("[data-radix-scroll-area-viewport]")??s,ee=(s,f,g)=>{const D=me(s);if(!D)return;D.querySelector(`[data-index="${f}"]`)?.scrollIntoView({block:"center",behavior:g})},V=b.useCallback(()=>{if(!n)return;const s=N?n.h%12||12:n.h,f=Q.indexOf(s),g=q.indexOf(n.m),D=X.indexOf(n.s),T=y.current;f>=0&&ee(oe.current,f,T==="h"?"smooth":"auto"),g>=0&&ee(ie.current,g,T==="m"?"smooth":"auto"),_&&D>=0&&ee(de.current,D,T==="s"?"smooth":"auto"),y.current=null},[n,N,_,Q,q,X]);b.useEffect(()=>{if(h){const s=setTimeout(V,40);return()=>clearTimeout(s)}},[h,V]),b.useEffect(()=>{h&&V()},[l,h,V]);const Re=s=>f=>{const g=me(s.current);g&&(g.scrollTop+=f.deltaY,f.preventDefault())},se=({title:s,options:f,value:g,onSelect:D,refEl:T})=>e.jsxs("div",{className:"flex flex-col gap-2 min-w-0",onWheel:Re(T),children:[e.jsx("div",{className:"text-[10px] tracking-wide font-medium text-muted-foreground px-1 select-none",children:s}),e.jsx(ce,{ref:T,className:"h-48 w-full rounded-md border bg-card",children:e.jsx("div",{className:"py-1",children:f.map((K,Ee)=>{const xe=g===K;return e.jsx(p,{"data-index":Ee,size:"sm",variant:xe?"secondary":"ghost",className:z("h-8 w-full justify-center font-mono text-sm rounded-none","hover:bg-accent hover:text-accent-foreground"),type:"button",onClick:()=>D(K),"aria-pressed":xe,children:v(K)},K)})})})]});return e.jsxs("div",{className:z("flex flex-col gap-2",i),children:[j&&e.jsxs(ne,{htmlFor:t,className:"px-1 text-sm font-medium",children:[j,c?e.jsx("span",{className:"text-destructive",children:" *"}):null]}),e.jsxs("div",{className:"relative",children:[e.jsx(qe,{id:t,name:a,value:W,onChange:s=>Be(s.target.value),onBlur:()=>B(L(n,o)),placeholder:x,disabled:u,readOnly:m,required:c,className:z("bg-background pr-10","focus:ring-2 focus:ring-primary/20 focus:border-primary",h&&"ring-2 ring-primary/20 border-primary",u&&"opacity-50 cursor-not-allowed"),onKeyDown:Me,"aria-haspopup":"dialog","aria-expanded":h,"aria-controls":h?`${t}-tp-popover`:void 0}),e.jsxs(Ve,{open:h,onOpenChange:U,children:[e.jsx(Ke,{asChild:!0,children:e.jsx(p,{type:"button",variant:"ghost",size:"sm",className:z("absolute top-1/2 right-2 size-7 -translate-y-1/2",u||m?"opacity-30 cursor-not-allowed":"cursor-pointer"),disabled:u||m,"aria-label":h?"Close time picker":"Open time picker",children:e.jsx(le,{className:"size-4"})})}),e.jsx(Ge,{id:`${t}-tp-popover`,className:"w-[280px] p-3 shadow-2xl border-border/50 rounded-xl",align:"end",sideOffset:10,onOpenAutoFocus:s=>s.preventDefault(),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:z("grid gap-3",_?"grid-cols-3":"grid-cols-2"),children:[e.jsx(se,{title:N?"HOUR (12)":"HOUR (24)",options:Q,value:Ae,onSelect:s=>{const f=N?(s%12+(Z?0:12))%24:s;Y(f)},refEl:oe}),e.jsx(se,{title:"MIN",options:q,value:n?.m??0,onSelect:De,refEl:ie}),_&&e.jsx(se,{title:"SEC",options:X,value:n?.s??0,onSelect:Te,refEl:de})]}),N&&e.jsxs("div",{className:"flex gap-2 p-2 bg-muted/40 rounded-md border justify-center",children:[e.jsx(p,{size:"sm",variant:Z?"default":"outline",className:"flex-1",type:"button",onClick:()=>{const s=n??{h:0};s.h>=12&&Y(s.h-12)},children:"AM"}),e.jsx(p,{size:"sm",variant:Z?"outline":"default",className:"flex-1",type:"button",onClick:()=>{const s=n??{h:0};s.h<12&&Y(s.h+12)},children:"PM"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsxs(p,{variant:"ghost",size:"sm",type:"button",onClick:()=>M(null),className:"text-muted-foreground hover:text-destructive",children:[e.jsx(ss,{className:"size-3 mr-1"}),"Clear"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"ghost",size:"sm",type:"button",onClick:()=>{const s=new Date;M({h:s.getHours(),m:s.getMinutes(),s:_?s.getSeconds():0})},children:"Now"}),e.jsx(p,{size:"sm",type:"button",onClick:()=>{w&&A(!1)},children:"Apply"})]})]})]})})]})]})]})}function js({id:t="date",name:a,value:l,onChange:d,placeholder:o="Select a date",required:x,min:j,max:u,disabled:m,readOnly:c,className:i,dateLabel:r="Date",timeId:w,timeName:$,timeValue:h,onTimeChange:A,timeRequired:N,timeDisabled:_,timeReadOnly:F,timeClassName:n,timeLabel:I="Time",timeFormat:W="hh:mm aa",wrapperClassName:B}){return e.jsxs("div",{className:z("flex gap-4",B),children:[e.jsxs("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[r?e.jsx(ne,{htmlFor:t,className:"px-1",children:r}):null,e.jsx(Le,{id:t,name:a,value:l,onChange:d,placeholder:o,required:x,min:j,max:u,disabled:m,readOnly:c,className:i})]}),e.jsxs("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[I?e.jsx(ne,{htmlFor:w,className:"px-1",children:I}):null,e.jsx(ls,{id:w??`${t}-time`,name:$,value:h,onChange:A,disabled:_??m,readOnly:F??c,required:N,className:n,format:W,placeholder:W.includes("hh")?"e.g., 09:30 AM":"e.g., 21:30"})]})]})}const Ns=({open:t,onOpenChange:a,session:l,onSelect:d,isLoading:o})=>{if(!l)return null;const x=!!l.break_records?.length;return e.jsx(ve,{open:t,onOpenChange:a,children:e.jsxs(ke,{className:"bg-card border-border",children:[e.jsxs(we,{children:[e.jsx(_e,{className:"text-foreground",children:"What do you want to correct?"}),e.jsx(ye,{className:"text-muted-foreground",children:"Select the type of correction needed for this record"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 py-4",children:[e.jsxs(p,{onClick:()=>{d("clock_in"),a(!1)},disabled:o,variant:"outline",className:"h-20 flex flex-col items-center justify-center border-input hover:bg-accent",children:[e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Clock In"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Edit start time"})]}),e.jsxs(p,{onClick:()=>{d("clock_out"),a(!1)},disabled:!l.clock_out_utc||o,variant:"outline",className:"h-20 flex flex-col items-center justify-center border-input hover:bg-accent",children:[e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Clock Out"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Edit end time"})]})]}),x&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-foreground",children:"Breaks"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:l.break_records.map((j,u)=>{const m=`Break ${u+1}`;return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{onClick:()=>{d("break_in",j.id),a(!1)},disabled:o,variant:"outline",className:"flex-1 h-12 justify-between border-input hover:bg-accent",title:`${m} start`,children:[m,": Start"]}),e.jsxs(p,{onClick:()=>{d("break_out",j.id),a(!1)},disabled:!j.break_end_utc||o,variant:"outline",className:"flex-1 h-12 justify-between border-input hover:bg-accent",title:`${m} end`,children:[m,": End"]})]},j.id)})})]}),e.jsx(Ce,{className:"pt-2",children:e.jsx(p,{variant:"outline",onClick:()=>a(!1),disabled:o,className:"border-input",children:"Cancel"})})]})})};export{js as C,fs as D,ps as R,Ns as a};
