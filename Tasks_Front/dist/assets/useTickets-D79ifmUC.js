import{D as _}from"./index-eqiCeC4f.js";import{u as P}from"./ticketsStore-Co4SBr68.js";import{u as b}from"./filtersStore-EWD6TS_R.js";const D=()=>{const{tickets:i,availableTickets:n,pagination:t,availablePagination:a,isLoading:u,error:g,fetchTickets:s,fetchAvailableTickets:o,createTicket:p,updateTicket:T,updateTicketStatus:f,deleteTicket:L,claimTicket:d,assignTicket:w,completeTicket:C,unassignTicket:v}=P(),{searchQuery:r}=b();_.useEffect(()=>{i.length||s(1),n.length||o(1)},[s,o,i.length,n.length]);const k=i.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())||e.requester?.name?.toLowerCase().includes(r.toLowerCase())||e.requester_name?.toLowerCase().includes(r.toLowerCase())),m=n.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())||e.requester?.name?.toLowerCase().includes(r.toLowerCase())||e.requester_name?.toLowerCase().includes(r.toLowerCase())),c=e=>{s(e)},l=e=>{o(e)};return{tickets:k,availableTickets:m,pagination:t,availablePagination:a,isLoading:u,error:g,fetchTickets:s,fetchAvailableTickets:o,createTicket:p,updateTicket:T,updateTicketStatus:f,deleteTicket:L,claimTicket:d,assignTicket:w,completeTicket:C,unassignTicket:v,goToPage:c,goToAvailablePage:l,nextPage:()=>{t&&t.current_page<t.last_page&&c(t.current_page+1)},prevPage:()=>{t&&t.current_page>1&&c(t.current_page-1)},nextAvailablePage:()=>{a&&a.current_page<a.last_page&&l(a.current_page+1)},prevAvailablePage:()=>{a&&a.current_page>1&&l(a.current_page-1)}}};export{D as u};
